(function(a){a.isScrollToFixed=function(b){return a(b).data("ScrollToFixed")!==undefined};a.ScrollToFixed=function(d,h){var k=this;k.$el=a(d);k.el=d;k.$el.data("ScrollToFixed",k);var c=false;var F=k.$el;var G;var D;var p;var C=0;var q=0;var i=-1;var e=-1;var t=null;var y;var f;function u(){F.trigger("preUnfixed.ScrollToFixed");j();F.trigger("unfixed.ScrollToFixed");e=-1;C=F.offset().top;q=F.offset().left;if(k.options.offsets){q+=(F.offset().left-F.position().left)}if(i==-1){i=q}G=F.css("position");c=true;if(k.options.bottom!=-1){F.trigger("preFixed.ScrollToFixed");w();F.trigger("fixed.ScrollToFixed")}}function m(){var H=k.options.limit;if(!H){return 0}if(typeof(H)==="function"){return H.apply(F)}return H}function o(){return G==="fixed"}function x(){return G==="absolute"}function g(){return!(o()||x())}function w(){if(!o()){t.css({display:F.css("display"),width:F.outerWidth(true),height:F.outerHeight(true),"float":F.css("float")});F.css({width:F.width(),position:"fixed",top:k.options.bottom==-1?s():"",bottom:k.options.bottom==-1?"":k.options.bottom,"margin-left":"0px"});F.addClass("scroll-to-fixed-fixed");if(k.options.className){F.addClass(k.options.className)}G="fixed"}}function b(){var I=m();var H=q;if(k.options.removeOffsets){H=0;I=I-C}F.css({width:F.width(),position:"absolute",top:I,left:H,"margin-left":"0px",bottom:""});G="absolute"}function j(){if(!g()){e=-1;t.css("display","none");F.css({width:"",position:D,left:"",top:p.top,"margin-left":""});F.removeClass("scroll-to-fixed-fixed");if(k.options.className){F.removeClass(k.options.className)}G=null}}function v(H){if(H!=e){F.css("left",q-H);e=H}}function s(){var H=k.options.marginTop;if(!H){return 0}if(typeof(H)==="function"){return H.apply(F)}return H}function z(){if(!a.isScrollToFixed(F)){return}var J=c;if(!c){u()}var H=a(window).scrollLeft();var K=a(window).scrollTop();var I=m();if(k.options.minWidth&&a(window).width()<k.options.minWidth){if(!g()||!J){n();F.trigger("preUnfixed.ScrollToFixed");j();F.trigger("unfixed.ScrollToFixed")}}else{if(k.options.bottom==-1){if(I>0&&K>=I-s()){if(!x()||!J){n();F.trigger("preAbsolute.ScrollToFixed");b();F.trigger("unfixed.ScrollToFixed")}}else{if(K>=C-s()){if(!o()||!J){n();F.trigger("preFixed.ScrollToFixed");w();e=-1;F.trigger("fixed.ScrollToFixed")}v(H)}else{if(!g()||!J){n();F.trigger("preUnfixed.ScrollToFixed");j();F.trigger("unfixed.ScrollToFixed")}}}}else{if(I>0){if(K+a(window).height()-F.outerHeight(true)>=I-(s()||-l())){if(o()){n();F.trigger("preUnfixed.ScrollToFixed");if(D==="absolute"){b()}else{j()}F.trigger("unfixed.ScrollToFixed")}}else{if(!o()){n();F.trigger("preFixed.ScrollToFixed");w()}v(H);F.trigger("fixed.ScrollToFixed")}}else{v(H)}}}}function l(){if(!k.options.bottom){return 0}return k.options.bottom}function n(){var H=F.css("position");if(H=="absolute"){F.trigger("postAbsolute.ScrollToFixed")}else{if(H=="fixed"){F.trigger("postFixed.ScrollToFixed")}else{F.trigger("postUnfixed.ScrollToFixed")}}}var B=function(H){if(F.is(":visible")){c=false;z()}};var E=function(H){z()};var A=function(){var I=document.body;if(document.createElement&&I&&I.appendChild&&I.removeChild){var K=document.createElement("div");if(!K.getBoundingClientRect){return null}K.innerHTML="x";K.style.cssText="position:fixed;top:100px;";I.appendChild(K);var L=I.style.height,M=I.scrollTop;I.style.height="3000px";I.scrollTop=500;var H=K.getBoundingClientRect().top;I.style.height=L;var J=(H===100);I.removeChild(K);I.scrollTop=M;return J}return null};var r=function(H){H=H||window.event;if(H.preventDefault){H.preventDefault()}H.returnValue=false};k.init=function(){k.options=a.extend({},a.ScrollToFixed.defaultOptions,h);k.$el.css("z-index",k.options.zIndex);t=a("<div />");G=F.css("position");D=F.css("position");p=a.extend({},F.offset());if(g()){k.$el.after(t)}a(window).bind("resize.ScrollToFixed",B);a(window).bind("scroll.ScrollToFixed",E);if(k.options.preFixed){F.bind("preFixed.ScrollToFixed",k.options.preFixed)}if(k.options.postFixed){F.bind("postFixed.ScrollToFixed",k.options.postFixed)}if(k.options.preUnfixed){F.bind("preUnfixed.ScrollToFixed",k.options.preUnfixed)}if(k.options.postUnfixed){F.bind("postUnfixed.ScrollToFixed",k.options.postUnfixed)}if(k.options.preAbsolute){F.bind("preAbsolute.ScrollToFixed",k.options.preAbsolute)}if(k.options.postAbsolute){F.bind("postAbsolute.ScrollToFixed",k.options.postAbsolute)}if(k.options.fixed){F.bind("fixed.ScrollToFixed",k.options.fixed)}if(k.options.unfixed){F.bind("unfixed.ScrollToFixed",k.options.unfixed)}if(k.options.spacerClass){t.addClass(k.options.spacerClass)}F.bind("resize.ScrollToFixed",function(){t.height(F.height())});F.bind("scroll.ScrollToFixed",function(){F.trigger("preUnfixed.ScrollToFixed");j();F.trigger("unfixed.ScrollToFixed");z()});F.bind("detach.ScrollToFixed",function(H){r(H);F.trigger("preUnfixed.ScrollToFixed");j();F.trigger("unfixed.ScrollToFixed");a(window).unbind("resize.ScrollToFixed",B);a(window).unbind("scroll.ScrollToFixed",E);F.unbind(".ScrollToFixed");k.$el.removeData("ScrollToFixed")});B()};k.init()};a.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1000};a.fn.scrollToFixed=function(b){return this.each(function(){(new a.ScrollToFixed(this,b))})}})(jQuery);(function(a){function g(a,b){var c=a.data("ddslick");var d=a.find(".dd-selected"),e=d.siblings(".dd-selected-value"),f=a.find(".dd-options"),g=d.siblings(".dd-pointer"),h=a.find(".dd-option").eq(b),k=h.closest("li"),l=c.settings,m=c.settings.data[b];a.find(".dd-option").removeClass("dd-option-selected");h.addClass("dd-option-selected");c.selectedIndex=b;c.selectedItem=k;c.selectedData=m;if(l.showSelectedHTML){d.html((m.imageSrc?'<img class="dd-selected-image'+(l.imagePosition=="right"?" dd-image-right":"")+'" src="'+ m.imageSrc+'" />':"")+(m.text?'<label class="dd-selected-text">'+ m.text+"</label>":"")+(m.description?'<small class="dd-selected-description dd-desc'+(l.truncateDescription?" dd-selected-description-truncated":"")+'" >'+ m.description+"</small>":""))}else d.html(m.text);e.val(m.value);c.original.val(m.value);a.data("ddslick",c);i(a);j(a);if(typeof l.onSelected=="function"){l.onSelected.call(this,c)}}function h(b){var c=b.find(".dd-select"),d=c.siblings(".dd-options"),e=c.find(".dd-pointer"),f=d.is(":visible");a(".dd-click-off-close").not(d).slideUp(50);a(".dd-pointer").removeClass("dd-pointer-up");if(f){d.slideUp("fast");e.removeClass("dd-pointer-up")}else{d.slideDown("fast");e.addClass("dd-pointer-up")}k(b)}function i(a){a.find(".dd-options").slideUp(50);a.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up")}function j(a){var b=a.find(".dd-select").css("height");var c=a.find(".dd-selected-description");var d=a.find(".dd-selected-image");if(c.length<=0&&d.length>0){a.find(".dd-selected-text").css("lineHeight",b)}}function k(b){b.find(".dd-option").each(function(){var c=a(this);var d=c.css("height");var e=c.find(".dd-option-description");var f=b.find(".dd-option-image");if(e.length<=0&&f.length>0){c.find(".dd-option-text").css("lineHeight",d)}})}a.fn.ddslick=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+ c+" does not exists.")}};var b={},c={data:[],keepJSONItemsOnTop:false,width:260,height:null,background:"#eee",selectText:"",defaultSelectedIndex:null,truncateDescription:true,imagePosition:"left",showSelectedHTML:true,clickOffToClose:true,onSelected:function(){}},d='<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>',e='<ul class="dd-options"></ul>',f='<style id="css-ddslick" type="text/css">'+".dd-select{border:solid 1px #ccc; position:relative; cursor:pointer;}"+".dd-desc { color:#aaa; display:block; overflow: hidden; font-weight:normal; line-height: 1.4em; }"+".dd-selected{ overflow:hidden; display:block; padding:10px; font-weight:bold;}"+".dd-pointer{ width:0; height:0; position:absolute; right:10px; top:50%; margin-top:-3px;}"+".dd-pointer-down{ border:solid 5px transparent; border-top:solid 5px #000; }"+".dd-pointer-up{border:solid 5px transparent !important; border-bottom:solid 5px #000 !important; margin-top:-8px;}"+".dd-options{ border:solid 1px #ccc; border-top:none; list-style:none; box-shadow:0px 1px 5px #ddd; display:none; position:absolute; z-index:2000; margin:0; padding:0;background:#fff; overflow:auto;}"+".dd-option{ padding:10px; display:block; border-bottom:solid 1px #ddd; overflow:hidden; text-decoration:none; color:#333; cursor:pointer;-webkit-transition: all 0.25s ease-in-out; -moz-transition: all 0.25s ease-in-out;-o-transition: all 0.25s ease-in-out;-ms-transition: all 0.25s ease-in-out; }"+".dd-options > li:last-child > .dd-option{ border-bottom:none;}"+".dd-option:hover{ background:#f3f3f3; color:#000;}"+".dd-selected-description-truncated { text-overflow: ellipsis; white-space:nowrap; }"+".dd-selected:hover,.dd-option:hover {text-decoration: none;}"+".dd-option-selected { background:#f6f6f6; }"+".dd-option-image, .dd-selected-image { vertical-align:middle; float:left; margin-right:5px; max-width:64px;}"+".dd-image-right { float:right; margin-right:15px; margin-left:5px;}"+".dd-container{ position:relative;}? .dd-selected-text { font-weight:bold}?</style>";if(a("#css-ddslick").length<=0){a(f).appendTo("head")}b.init=function(b){var b=a.extend({},c,b);return this.each(function(){var c=a(this),f=c.data("ddslick");if(!f){var i=[],j=b.data;c.find("option").each(function(){var b=a(this),c=b.data();i.push({text:a.trim(b.text()),value:b.val(),selected:b.is(":selected"),description:c.description,imageSrc:c.imagesrc})});if(b.keepJSONItemsOnTop)a.merge(b.data,i);else b.data=a.merge(i,b.data);var k=c,l=a('<div id="'+ c.attr("id")+'"></div>');c.replaceWith(l);c=l;c.addClass("dd-container").append(d).append(e);var i=c.find(".dd-select"),m=c.find(".dd-options");m.css({width:b.width});i.css({width:b.width,background:b.background});c.css({width:b.width});if(b.height!=null)m.css({height:b.height,overflow:"auto"});a.each(b.data,function(a,c){if(c.selected)b.defaultSelectedIndex=a;m.append("<li>"+'<a class="dd-option">'+(c.value?' <input class="dd-option-value" type="hidden" value="'+ c.value+'" />':"")+(c.imageSrc?' <img class="dd-option-image'+(b.imagePosition=="right"?" dd-image-right":"")+'" src="'+ c.imageSrc+'" />':"")+(c.text?' <label class="dd-option-text">'+ c.text+"</label>":"")+(c.description?' <small class="dd-option-description dd-desc">'+ c.description+"</small>":"")+"</a>"+"</li>")});var n={settings:b,original:k,selectedIndex:-1,selectedItem:null,selectedData:null};c.data("ddslick",n);if(b.selectText.length>0&&b.defaultSelectedIndex==null){c.find(".dd-selected").html(b.selectText)}else{var o=b.defaultSelectedIndex!=null&&b.defaultSelectedIndex>=0&&b.defaultSelectedIndex<b.data.length?b.defaultSelectedIndex:0;g(c,o)}c.find(".dd-select").on("click.ddslick",function(){h(c)});c.find(".dd-option").on("click.ddslick",function(){g(c,a(this).closest("li").index())});if(b.clickOffToClose){m.addClass("dd-click-off-close");c.on("click.ddslick",function(a){a.stopPropagation()});a("body").on("click",function(){a(".dd-click-off-close").slideUp(50).siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up")})}}})};b.select=function(b){return this.each(function(){if(b.index)g(a(this),b.index)})};b.open=function(){return this.each(function(){var b=a(this),c=b.data("ddslick");if(c)h(b)})};b.close=function(){return this.each(function(){var b=a(this),c=b.data("ddslick");if(c)i(b)})};b.destroy=function(){return this.each(function(){var b=a(this),c=b.data("ddslick");if(c){var d=c.original;b.removeData("ddslick").unbind(".ddslick").replaceWith(d)}})}})(jQuery);!function(a){a(function(){a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;a("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1).focus(),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();var c=this;b=a.Event("hide"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,a("body").removeClass("modal-open"),this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(this.removeBackdrop,this)):this.removeBackdrop()):b&&b()}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})})}(window.jQuery),!function(a){function d(){e(a(b)).removeClass("open")}function e(b){var c=b.attr("data-target"),d;return c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")),d=a(c),d.length||(d=b.parent()),d}var b="[data-toggle=dropdown]",c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),f,g;if(c.is(".disabled, :disabled"))return;return f=e(c),g=f.hasClass("open"),d(),g||(f.toggleClass("open"),c.focus()),!1},keydown:function(b){var c,d,f,g,h,i;if(!/(38|40|27)/.test(b.keyCode))return;c=a(this),b.preventDefault(),b.stopPropagation();if(c.is(".disabled, :disabled"))return;g=e(c),h=g.hasClass("open");if(!h||h&&b.keyCode==27)return c.click();d=a("[role=menu] li:not(.divider) a",g);if(!d.length)return;i=d.index(d.filter(":focus")),b.keyCode==38&&i>0&&i--,b.keyCode==40&&i<d.length-1&&i++,~i||(i=0),d.eq(i).focus()}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(function(){a("html").on("click.dropdown.data-api touchstart.dropdown.data-api",d),a("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",b+", [role=menu]",c.prototype.keydown)})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll-spy.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&d.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active a").last()[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var b=this,c=this.tip();return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.remove(),this},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(a){var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content > *")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f=typeof c=="object"&&c;e||d.data("popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var b=a(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),e=this.options.offset,f=e.bottom,g=e.top,h="affix affix-top affix-bottom",i;typeof e!="object"&&(f=g=e),typeof g=="function"&&(g=e.top()),typeof f=="function"&&(f=e.bottom()),i=this.unpin!=null&&c+this.unpin<=d.top?!1:f!=null&&d.top+this.$element.height()>=b-f?"bottom":g!=null&&c<=g?"top":!1;if(this.affixed===i)return;this.affixed=i,this.unpin=i=="bottom"?d.top-c:null,this.$element.removeClass(h).addClass("affix"+(i?"-"+i:""))},a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f=typeof c=="object"&&c;e||d.data("affix",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),!function(a){var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed").remove()}var c=a(this),d=c.attr("data-target"),e;d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close"));if(b.isDefaultPrevented())return;e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f()},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(this.transitioning)return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){e=d.data("collapse");if(e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning)return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){c.type=="show"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();c[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=c,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".item.active"),d=c.parent().children(),e=d.index(c),f=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this,j=a.Event("slide",{relatedTarget:e[0]});this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h]();if(e.hasClass("active"))return;if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c),g=typeof c=="string"?c:f.slide;e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):g?e[g]():f.interval&&e.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!e.data("modal")&&a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),(a.browser.chrome||a.browser.webkit||a.browser.msie)&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},move:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()},keydown:function(b){this.suppressKeyPressRepeat=!~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){if(this.suppressKeyPressRepeat)return;this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery);(function(){var t="0.4.2",j=window.jQuery||window.$||(window.$={}),f={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(F){return String(F).evalJSON()}||j.parseJSON||j.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||j.toJSON};if(!f.parse||!f.stringify){throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page")}var m={__jstorage_meta:{CRC32:{}}},c={jStorage:"{}"},y=null,o=0,i=false,k={},C=false,z=0,s={},x=+new Date(),A,B={isXML:function(G){var F=(G?G.ownerDocument||G:0).documentElement;return F?F.nodeName!=="HTML":false},encode:function(G){if(!this.isXML(G)){return false}try{return new XMLSerializer().serializeToString(G)}catch(F){try{return G.xml}catch(H){}}return false},decode:function(G){var F=("DOMParser"in window&&(new DOMParser()).parseFromString)||(window.ActiveXObject&&function(I){var J=new ActiveXObject("Microsoft.XMLDOM");J.async="false";J.loadXML(I);return J}),H;if(!F){return false}H=F.call("DOMParser"in window&&(new DOMParser())||window,G,"text/xml");return this.isXML(H)?H:false}};function q(){var F=false;if("localStorage"in window){try{window.localStorage.setItem("_tmptest","tmpval");F=true;window.localStorage.removeItem("_tmptest")}catch(G){}}if(F){try{if(window.localStorage){c=window.localStorage;i="localStorage";z=c.jStorage_update}}catch(M){}}else{if("globalStorage"in window){try{if(window.globalStorage){c=window.globalStorage[window.location.hostname];i="globalStorage";z=c.jStorage_update}}catch(L){}}else{y=document.createElement("link");if(y.addBehavior){y.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(y);try{y.load("jStorage")}catch(K){y.setAttribute("jStorage","{}");y.save("jStorage");y.load("jStorage")}var J="{}";try{J=y.getAttribute("jStorage")}catch(I){}try{z=y.getAttribute("jStorage_update")}catch(H){}c.jStorage=J;i="userDataBehavior"}else{y=null;return}}}l();b();w();u();if("addEventListener"in window){window.addEventListener("pageshow",function(N){if(N.persisted){p()}},false)}}function e(){var H="{}";if(i=="userDataBehavior"){y.load("jStorage");try{H=y.getAttribute("jStorage")}catch(G){}try{z=y.getAttribute("jStorage_update")}catch(F){}c.jStorage=H}l();b();u()}function w(){if(i=="localStorage"||i=="globalStorage"){if("addEventListener"in window){window.addEventListener("storage",p,false)}else{document.attachEvent("onstorage",p)}}else{if(i=="userDataBehavior"){setInterval(p,1000)}}}function p(){var F;clearTimeout(C);C=setTimeout(function(){if(i=="localStorage"||i=="globalStorage"){F=c.jStorage_update}else{if(i=="userDataBehavior"){y.load("jStorage");try{F=y.getAttribute("jStorage_update")}catch(G){}}}if(F&&F!=z){z=F;h()}},25)}function h(){var F=f.parse(f.stringify(m.__jstorage_meta.CRC32)),J;e();J=f.parse(f.stringify(m.__jstorage_meta.CRC32));var H,G=[],I=[];for(H in F){if(F.hasOwnProperty(H)){if(!J[H]){I.push(H);continue}if(F[H]!=J[H]&&String(F[H]).substr(0,2)=="2."){G.push(H)}}}for(H in J){if(J.hasOwnProperty(H)){if(!F[H]){G.push(H)}}}E(G,"updated");E(I,"deleted")}function E(K,L){K=[].concat(K||[]);if(L=="flushed"){K=[];for(var J in k){if(k.hasOwnProperty(J)){K.push(J)}}L="deleted"}for(var I=0,F=K.length;I<F;I++){if(k[K[I]]){for(var H=0,G=k[K[I]].length;H<G;H++){k[K[I]][H](K[I],L)}}}}function n(){var F=(+new Date()).toString();if(i=="localStorage"||i=="globalStorage"){c.jStorage_update=F}else{if(i=="userDataBehavior"){y.setAttribute("jStorage_update",F);y.save("jStorage")}}p()}function l(){if(c.jStorage){try{m=f.parse(String(c.jStorage))}catch(F){c.jStorage="{}"}}else{c.jStorage="{}"}o=c.jStorage?String(c.jStorage).length:0;if(!m.__jstorage_meta){m.__jstorage_meta={}}if(!m.__jstorage_meta.CRC32){m.__jstorage_meta.CRC32={}}}function r(){a();try{c.jStorage=f.stringify(m);if(y){y.setAttribute("jStorage",c.jStorage);y.save("jStorage")}o=c.jStorage?String(c.jStorage).length:0}catch(F){}}function v(F){if(!F||(typeof F!="string"&&typeof F!="number")){throw new TypeError("Key name must be string or numeric")}if(F=="__jstorage_meta"){throw new TypeError("Reserved key name")}return true}function b(){var L,G,J,H,I=Infinity,K=false,F=[];clearTimeout(A);if(!m.__jstorage_meta||typeof m.__jstorage_meta.TTL!="object"){return}L=+new Date();J=m.__jstorage_meta.TTL;H=m.__jstorage_meta.CRC32;for(G in J){if(J.hasOwnProperty(G)){if(J[G]<=L){delete J[G];delete H[G];delete m[G];K=true;F.push(G)}else{if(J[G]<I){I=J[G]}}}}if(I!=Infinity){A=setTimeout(b,I-L)}if(K){r();n();E(F,"deleted")}}function u(){var I,G;if(!m.__jstorage_meta.PubSub){return}var F,H=x;for(I=G=m.__jstorage_meta.PubSub.length-1;I>=0;I--){F=m.__jstorage_meta.PubSub[I];if(F[0]>x){H=F[0];d(F[1],F[2])}}x=H}function d(H,I){if(s[H]){for(var G=0,F=s[H].length;G<F;G++){s[H][G](H,f.parse(f.stringify(I)))}}}function a(){if(!m.__jstorage_meta.PubSub){return}var H=+new Date()-2000;for(var G=0,F=m.__jstorage_meta.PubSub.length;G<F;G++){if(m.__jstorage_meta.PubSub[G][0]<=H){m.__jstorage_meta.PubSub.splice(G,m.__jstorage_meta.PubSub.length-G);break}}if(!m.__jstorage_meta.PubSub.length){delete m.__jstorage_meta.PubSub}}function g(F,G){if(!m.__jstorage_meta){m.__jstorage_meta={}}if(!m.__jstorage_meta.PubSub){m.__jstorage_meta.PubSub=[]}m.__jstorage_meta.PubSub.unshift([+new Date,F,G]);r();n()}function D(K,G){var F=K.length,J=G^F,I=0,H;while(F>=4){H=((K.charCodeAt(I)&255))|((K.charCodeAt(++I)&255)<<8)|((K.charCodeAt(++I)&255)<<16)|((K.charCodeAt(++I)&255)<<24);H=(((H&65535)*1540483477)+((((H>>>16)*1540483477)&65535)<<16));H^=H>>>24;H=(((H&65535)*1540483477)+((((H>>>16)*1540483477)&65535)<<16));J=(((J&65535)*1540483477)+((((J>>>16)*1540483477)&65535)<<16))^H;F-=4;++I}switch(F){case 3:J^=(K.charCodeAt(I+2)&255)<<16;case 2:J^=(K.charCodeAt(I+1)&255)<<8;case 1:J^=(K.charCodeAt(I)&255);J=(((J&65535)*1540483477)+((((J>>>16)*1540483477)&65535)<<16))}J^=J>>>13;J=(((J&65535)*1540483477)+((((J>>>16)*1540483477)&65535)<<16));J^=J>>>15;return J>>>0}j.jStorage={version:t,set:function(G,H,F){v(G);F=F||{};if(typeof H=="undefined"){this.deleteKey(G);return H}if(B.isXML(H)){H={_is_xml:true,xml:B.encode(H)}}else{if(typeof H=="function"){return undefined}else{if(H&&typeof H=="object"){H=f.parse(f.stringify(H))}}}m[G]=H;m.__jstorage_meta.CRC32[G]="2."+D(f.stringify(H),2538058380);this.setTTL(G,F.TTL||0);E(G,"updated");return H},get:function(F,G){v(F);if(F in m){if(m[F]&&typeof m[F]=="object"&&m[F]._is_xml){return B.decode(m[F].xml)}else{return m[F]}}return typeof(G)=="undefined"?null:G},deleteKey:function(F){v(F);if(F in m){delete m[F];if(typeof m.__jstorage_meta.TTL=="object"&&F in m.__jstorage_meta.TTL){delete m.__jstorage_meta.TTL[F]}delete m.__jstorage_meta.CRC32[F];r();n();E(F,"deleted");return true}return false},setTTL:function(G,F){var H=+new Date();v(G);F=Number(F)||0;if(G in m){if(!m.__jstorage_meta.TTL){m.__jstorage_meta.TTL={}}if(F>0){m.__jstorage_meta.TTL[G]=H+F}else{delete m.__jstorage_meta.TTL[G]}r();b();n();return true}return false},getTTL:function(G){var H=+new Date(),F;v(G);if(G in m&&m.__jstorage_meta.TTL&&m.__jstorage_meta.TTL[G]){F=m.__jstorage_meta.TTL[G]-H;return F||0}return 0},flush:function(){m={__jstorage_meta:{CRC32:{}}};r();n();E(null,"flushed");return true},storageObj:function(){function G(){}G.prototype=m;return new G()},index:function(){var F=[],G;for(G in m){if(m.hasOwnProperty(G)&&G!="__jstorage_meta"){F.push(G)}}return F},storageSize:function(){return o},currentBackend:function(){return i},storageAvailable:function(){return!!i},listenKeyChange:function(F,G){v(F);if(!k[F]){k[F]=[]}k[F].push(G)},stopListening:function(G,H){v(G);if(!k[G]){return}if(!H){delete k[G];return}for(var F=k[G].length-1;F>=0;F--){if(k[G][F]==H){k[G].splice(F,1)}}},subscribe:function(F,G){F=(F||"").toString();if(!F){throw new TypeError("Channel not defined")}if(!s[F]){s[F]=[]}s[F].push(G)},publish:function(F,G){F=(F||"").toString();if(!F){throw new TypeError("Channel not defined")}g(F,G)},reInit:function(){e()}};q()})();(function(e){"undefined"==typeof e.fn.each2&&e.fn.extend({each2:function(g){for(var i=e([0]),m=-1,s=this.length;++m<s&&(i.context=i[0]=this[m])&&!1!==g.call(i[0],m,i););return this}})})(jQuery);(function(T,R){function Q(f,e){var l=0,i=e.length,g;if("undefined"===typeof f){return-1}if(f.constructor===String){for(;l<i;l+=1){if(0===f.localeCompare(e[l])){return l}}}else{for(;l<i;l+=1){if(g=e[l],g.constructor===String){if(0===g.localeCompare(f)){return l}}else{if(g===f){return l}}}}return-1}function O(f,e){return f===e?!0:f===R||e===R||null===f||null===e?!1:f.constructor===String?0===f.localeCompare(e):e.constructor===String?0===e.localeCompare(f):!1}function t(f,e){var l,i,g;if(null===f||1>f.length){return[]}l=f.split(e);i=0;for(g=l.length;i<g;i+=1){l[i]=T.trim(l[i])}return l}function N(f,e,i){var i=i||R,g;return function(){var l=arguments;window.clearTimeout(g);g=window.setTimeout(function(){e.apply(i,l)},f)}}function P(e){e.preventDefault();e.stopPropagation()}function M(f,e,i){var g=f.toUpperCase().indexOf(e.toUpperCase()),e=e.length;0>g?i.push(f):(i.push(f.substring(0,g)),i.push("<span class='select2-match'>"),i.push(f.substring(g,g+e)),i.push("</span>"),i.push(f.substring(g+e,f.length)))}function K(f){var e,l=0,i=null,g=f.quietMillis||100;return function(m){window.clearTimeout(e);e=window.setTimeout(function(){var q=l+=1,s=f.data,w=f.transport||T.ajax,v=f.traditional||!1,u=f.type||"GET",s=s.call(this,m.term,m.page,m.context);null!==i&&i.abort();i=w.call(null,{url:f.url,dataType:f.dataType,data:s,type:u,traditional:v,success:function(x){q<l||(x=f.results(x,m.page),m.callback(x))}})},g)}}function J(f){var e=f,i,g=function(l){return""+l.text};T.isArray(e)||(g=e.text,T.isFunction(g)||(i=e.text,g=function(l){return l[i]}),e=e.results);return function(l){var s=l.term,q={results:[]},m;if(s===""){l.callback({results:e})}else{m=function(u,x){var w,v,u=u[0];if(u.children){w={};for(v in u){u.hasOwnProperty(v)&&(w[v]=u[v])}w.children=[];T(u.children).each2(function(z,y){m(y,w.children)});w.children.length&&x.push(w)}else{l.matcher(s,g(u))&&x.push(u)}};T(e).each2(function(v,u){m(u,q.results)});l.callback(q)}}}function r(e){return T.isFunction(e)?e:function(f){var i=f.term,g={results:[]};T(e).each(function(){var l=this.text!==R,m=l?this.text:this;if(""===i||f.matcher(i,m)){g.results.push(l?this:{id:this,text:this})}});f.callback(g)}}function p(e){if(T.isFunction(e)){return!0}if(!e){return!1}throw Error("formatterName must be a function or a falsy value")}function n(e){return T.isFunction(e)?e():e}function o(f){var e=0;T.each(f,function(g,i){i.children?e+=o(i.children):e++});return e}function j(x,w,v,u){var s=x,m=!1,q,l,i,g;if(!u.createSearchChoice||!u.tokenSeparators||1>u.tokenSeparators.length){return R}for(;;){m=-1;l=0;for(i=u.tokenSeparators.length;l<i&&!(g=u.tokenSeparators[l],m=x.indexOf(g),0<=m);l++){}if(0>m){break}q=x.substring(0,m);x=x.substring(m+g.length);if(0<q.length&&(q=u.createSearchChoice(q,w),q!==R&&null!==q&&u.id(q)!==R&&null!==u.id(q))){m=!1;l=0;for(i=w.length;l<i;l++){if(O(u.id(q),u.id(w[l]))){m=!0;break}}m||v(q)}}if(0!=s.localeCompare(x)){return x}}function d(f,e){var g=function(){};g.prototype=new f;g.prototype.constructor=g;g.prototype.parent=f.prototype;g.prototype=T.extend(g.prototype,e);return g}if(window.Select2===R){var S,h,b,a,k,L;S={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case S.SHIFT:case S.CTRL:case S.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){e=e.which?e.which:e;return 112<=e&&123>=e}};var c=1;k=function(){return c++};T(document).delegate("body","mousemove",function(e){T.data(document,"select2-lastpos",{x:e.pageX,y:e.pageY})});T(document).ready(function(){T(document).delegate("body","mousedown touchend",function(f){var e=T(f.target).closest("div.select2-container").get(0),g;e?T(document).find("div.select2-container-active").each(function(){this!==e&&T(this).data("select2").blur()}):(e=T(f.target).closest("div.select2-drop").get(0),T(document).find("div.select2-drop-active").each(function(){this!==e&&T(this).data("select2").blur()}));e=T(f.target);g=e.attr("for");"LABEL"===f.target.tagName&&(g&&0<g.length)&&(e=T("#"+g),e=e.data("select2"),e!==R&&(e.focus(),f.preventDefault()))})});h=d(Object,{bind:function(f){var e=this;return function(){f.apply(e,arguments)}},init:function(g){var e,s;this.opts=g=this.prepareOpts(g);this.id=g.id;g.element.data("select2")!==R&&null!==g.element.data("select2")&&this.destroy();this.enabled=!0;this.container=this.createContainer();this.containerId="s2id_"+(g.element.attr("id")||"autogen"+k());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);var q=!1,i;this.body=function(){!1===q&&(i=g.element.closest("body"),q=!0);return i};g.element.attr("class")!==R&&this.container.addClass(g.element.attr("class").replace(/validate\[[\S ]+] ?/,""));this.container.css(n(g.containerCss));this.container.addClass(n(g.containerCssClass));this.opts.element.data("select2",this).hide().before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(n(g.dropdownCssClass));this.dropdown.data("select2",this);this.results=e=this.container.find(".select2-results");this.search=s=this.container.find("input.select2-input");s.attr("tabIndex",this.opts.element.attr("tabIndex"));this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();this.results.bind("mousemove",function(u){var f=T.data(document,"select2-lastpos");(f===R||f.x!==u.pageX||f.y!==u.pageY)&&T(u.target).trigger("mousemove-filtered",u)});this.dropdown.delegate(".select2-results","mousemove-filtered",this.bind(this.highlightUnderEvent));var l=this.results,m=N(80,function(f){l.trigger("scroll-debounced",f)});l.bind("scroll",function(f){0<=Q(f.target,l.get())&&m(f)});this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded));T.fn.mousewheel&&e.mousewheel(function(f,w,v,u){w=e.scrollTop();0<u&&0>=w-u?(e.scrollTop(0),P(f)):0>u&&e.get(0).scrollHeight-e.scrollTop()+u<=e.height()&&(e.scrollTop(e.get(0).scrollHeight-e.height()),P(f))});s.bind("keydown",function(){T.data(s,"keyup-change-value")===R&&T.data(s,"keyup-change-value",s.val())});s.bind("keyup",function(){var f=T.data(s,"keyup-change-value");f!==R&&s.val()!==f&&(T.removeData(s,"keyup-change-value"),s.trigger("keyup-change"))});s.bind("keyup-change",this.bind(this.updateResults));s.bind("focus",function(){s.addClass("select2-focused");" "===s.val()&&s.val("")});s.bind("blur",function(){s.removeClass("select2-focused")});this.dropdown.delegate(".select2-results","mouseup",this.bind(function(f){0<T(f.target).closest(".select2-result-selectable:not(.select2-disabled)").length?(this.highlightUnderEvent(f),this.selectHighlighted(f)):this.focusSearch();P(f)}));this.dropdown.bind("click mouseup mousedown",function(f){f.stopPropagation()});T.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());(g.element.is(":disabled")||g.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");e!==R&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(f){var e,i,g;e=f.element;"select"===e.get(0).tagName.toLowerCase()&&(this.select=i=f.element);i&&T.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in f){throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}});f=T.extend({},{populateResults:function(l,v,s){var m,u=this.opts.id,q=this;m=function(F,E,B){var D,A,C,z,w,y,x;D=0;for(A=F.length;D<A;D=D+1){C=F[D];z=u(C)!==R;w=C.children&&C.children.length>0;y=T("<li></li>");y.addClass("select2-results-dept-"+B);y.addClass("select2-result");y.addClass(z?"select2-result-selectable":"select2-result-unselectable");w&&y.addClass("select2-result-with-children");y.addClass(q.opts.formatResultCssClass(C));z=T("<div></div>");z.addClass("select2-result-label");x=f.formatResult(C,z,s);x!==R&&z.html(q.opts.escapeMarkup(x));y.append(z);if(w){w=T("<ul></ul>");w.addClass("select2-result-sub");m(C.children,w,B+1);y.append(w)}y.data("select2-data",C);E.append(y)}};m(v,l,0)}},T.fn.select2.defaults,f);"function"!==typeof f.id&&(g=f.id,f.id=function(l){return l[g]});if(i){f.query=this.bind(function(l){var v={results:[],more:false},s=l.term,m,u,q;q=function(w,y){var x;if(w.is("option")){l.matcher(s,w.text(),w)&&y.push({id:w.attr("value"),text:w.text(),element:w.get(),css:w.attr("class")})}else{if(w.is("optgroup")){x={text:w.attr("label"),children:[],element:w.get(),css:w.attr("class")};w.children().each2(function(A,z){q(z,x.children)});x.children.length>0&&y.push(x)}}};m=e.children();if(this.getPlaceholder()!==R&&m.length>0){u=m[0];T(u).text()===""&&(m=m.not(u))}m.each2(function(x,w){q(w,v.results)});l.callback(v)}),f.id=function(l){return l.id},f.formatResultCssClass=function(l){return l.css}}else{if(!("query"in f)){if("ajax"in f){if((i=f.element.data("ajax-url"))&&0<i.length){f.ajax.url=i}f.query=K(f.ajax)}else{"data"in f?f.query=J(f.data):"tags"in f&&(f.query=r(f.tags),f.createSearchChoice=function(l){return{id:l,text:l}},f.initSelection=function(l,q){var m=[];T(t(l.val(),f.separator)).each(function(){var s=this,v=this,u=f.tags;T.isFunction(u)&&(u=u());T(u).each(function(){if(O(this.id,s)){v=this.text;return false}});m.push({id:s,text:v})});q(m)})}}}if("function"!==typeof f.query){throw"query function not defined for Select2 "+f.element.attr("id")}return f},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},triggerChange:function(e){e=e||{};e=T.extend({},e,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(e);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var w=this.container.offset(),v=this.container.outerHeight(),u=this.container.outerWidth(),s=this.dropdown.outerHeight(),l=T(window).scrollTop()+document.documentElement.clientHeight,v=w.top+v,q=w.left,l=v+s<=l,m=w.top-s>=this.body().scrollTop(),i=this.dropdown.hasClass("select2-drop-above"),e;"static"!==this.body().css("position")&&(e=this.body().offset(),v-=e.top,q-=e.left);i?(i=!0,!m&&l&&(i=!1)):(i=!1,!l&&m&&(i=!0));i?(v=w.top-s,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above"));w=T.extend({top:v,left:q,width:u},n(this.opts.dropdownCss));this.dropdown.css(w)},shouldOpen:function(){var e;if(this.opened()){return!1}e=T.Event("open");this.opts.element.trigger(e);return!e.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return!1}window.setTimeout(this.bind(this.opening),1);return!0},opening:function(){var f=this.containerId,e=this.containerSelector,i="scroll."+f,g="resize."+f;this.container.parents().each(function(){T(this).bind(i,function(){var l=T(e);0==l.length&&T(this).unbind(i);l.select2("close")})});T(window).bind(g,function(){var l=T(e);0==l.length&&T(window).unbind(g);l.select2("close")});this.clearDropdownAlignmentPreference();" "===this.search.val()&&this.search.val("");this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.updateResults(!0);this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");this.ensureHighlightVisible();this.focusSearch()},close:function(){if(this.opened()){var e=this;this.container.parents().each(function(){T(this).unbind("scroll."+e.containerId)});T(window).unbind("resize."+this.containerId);this.clearDropdownAlignmentPreference();this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.opts.element.trigger(T.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var g=this.results,e,m,l,i;m=this.highlight();0>m||(0==m?g.scrollTop(0):(e=g.find(".select2-result-selectable"),l=T(e[m]),i=l.offset().top+l.outerHeight(),m===e.length-1&&(e=g.find("li.select2-more-results"),0<e.length&&(i=e.offset().top+e.outerHeight())),e=g.offset().top+g.outerHeight(),i>e&&g.scrollTop(g.scrollTop()+(i-e)),l=l.offset().top-g.offset().top,0>l&&g.scrollTop(g.scrollTop()+l)))},moveHighlight:function(f){for(var e=this.results.find(".select2-result-selectable"),i=this.highlight();-1<i&&i<e.length;){var i=i+f,g=T(e[i]);if(g.hasClass("select2-result-selectable")&&!g.hasClass("select2-disabled")){this.highlight(i);break}}},highlight:function(f){var e=this.results.find(".select2-result-selectable").not(".select2-disabled");if(0===arguments.length){return Q(e.filter(".select2-highlighted")[0],e.get())}f>=e.length&&(f=e.length-1);0>f&&(f=0);e.removeClass("select2-highlighted");T(e[f]).addClass("select2-highlighted");this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(f){f=T(f.target).closest(".select2-result-selectable");if(0<f.length&&!f.is(".select2-highlighted")){var e=this.results.find(".select2-result-selectable");this.highlight(e.index(f))}else{0==f.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")}},loadMoreIfNeeded:function(){var l=this.results,i=l.find("li.select2-more-results"),v,u=this.resultsPage+1,s=this,q=this.search.val(),m=this.context;0!==i.length&&(v=i.offset().top-l.offset().top-l.height(),0>=v&&(i.addClass("select2-active"),this.opts.query({term:q,page:u,context:m,matcher:this.opts.matcher,callback:this.bind(function(e){s.opened()&&(s.opts.populateResults.call(this,l,e.results,{term:q,page:u,context:m}),!0===e.more?(i.detach().appendTo(l).text(s.opts.formatLoadMore(u+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=u)})})))},tokenize:function(){},updateResults:function(g){function e(){s.scrollTop(0);u.removeClass("select2-active");l.positionDropdown()}function v(f){s.html(l.opts.escapeMarkup(f));e()}var u=this.search,s=this.results,q=this.opts,m,l=this;if(!(!0!==g&&(!1===this.showSearchInput||!this.opened()))){u.addClass("select2-active");if(1<=q.maximumSelectionSize&&(m=this.data(),T.isArray(m)&&m.length>=q.maximumSelectionSize&&p(q.formatSelectionTooBig,"formatSelectionTooBig"))){v("<li class='select2-selection-limit'>"+q.formatSelectionTooBig(q.maximumSelectionSize)+"</li>");return}u.val().length<q.minimumInputLength&&p(q.formatInputTooShort,"formatInputTooShort")?v("<li class='select2-no-results'>"+q.formatInputTooShort(u.val(),q.minimumInputLength)+"</li>"):(v("<li class='select2-searching'>"+q.formatSearching()+"</li>"),m=this.tokenize(),m!=R&&null!=m&&u.val(m),this.resultsPage=1,q.query({term:u.val(),page:this.resultsPage,context:null,matcher:q.matcher,callback:this.bind(function(w){var f;this.opened()&&((this.context=w.context===R?null:w.context,this.opts.createSearchChoice&&""!==u.val()&&(f=this.opts.createSearchChoice.call(null,u.val(),w.results),f!==R&&null!==f&&l.id(f)!==R&&null!==l.id(f)&&0===T(w.results).filter(function(){return O(l.id(this),l.id(f))}).length&&w.results.unshift(f)),0===w.results.length&&p(q.formatNoMatches,"formatNoMatches"))?v("<li class='select2-no-results'>"+q.formatNoMatches(u.val())+"</li>"):(s.empty(),l.opts.populateResults.call(this,s,w.results,{term:u.val(),page:this.resultsPage,context:null}),!0===w.more&&p(q.formatLoadMore,"formatLoadMore")&&(s.append("<li class='select2-more-results'>"+l.opts.escapeMarkup(q.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){l.loadMoreIfNeeded()},10)),this.postprocessResults(w,g),e()))})}))}},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show();this.search.focus();window.setTimeout(this.bind(function(){this.search.show();this.search.focus();this.search.val(this.search.val())}),10)},selectHighlighted:function(){var f=this.highlight(),e=this.results.find(".select2-highlighted").not(".select2-disabled"),g=e.closest(".select2-result-selectable").data("select2-data");g&&(e.addClass("select2-disabled"),this.highlight(f),this.onSelect(g))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var e=function(){var g,m,l,i;if("off"===this.opts.width){return null}if("element"===this.opts.width){return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"}if("copy"===this.opts.width||"resolve"===this.opts.width){g=this.opts.element.attr("style");if(g!==R){g=g.split(";");l=0;for(i=g.length;l<i;l+=1){if(m=g[l].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==m&&1<=m.length){return m[1]}}}return"resolve"===this.opts.width?(g=this.opts.element.css("width"),0<g.indexOf("%")?g:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return T.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==e&&this.container.attr("style","width: "+e)}});b=d(h,{createContainer:function(){return T("<div></div>",{"class":"select2-container"}).html("    <a href='#' onclick='return false;' class='select2-choice'>   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>   <div><b></b></div></a>    <div class='select2-drop select2-offscreen'>   <div class='select2-search'>       <input type='text' autocomplete='off' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},opening:function(){this.search.show();this.parent.opening.apply(this,arguments);this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},initContainer:function(){var f,e=this.dropdown;this.selection=f=this.container.find(".select2-choice");this.search.bind("keydown",this.bind(function(g){if(this.enabled){if(g.which===S.PAGE_UP||g.which===S.PAGE_DOWN){P(g)}else{if(this.opened()){switch(g.which){case S.UP:case S.DOWN:this.moveHighlight(g.which===S.UP?-1:1);P(g);break;case S.TAB:case S.ENTER:this.selectHighlighted();P(g);break;case S.ESC:this.cancel(g),P(g)}}else{g.which===S.TAB||S.isControl(g)||S.isFunctionKey(g)||g.which===S.ESC||!1===this.opts.openOnEnter&&g.which===S.ENTER||this.open()}}}}));this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")}));this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));f.bind("mousedown",this.bind(function(){this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open()}));e.bind("mousedown",this.bind(function(){this.search.focus()}));f.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");this.search.attr("tabIndex","-1")}));f.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));f.bind("keydown",this.bind(function(i){if(this.enabled){if(i.which===S.PAGE_UP||i.which===S.PAGE_DOWN){P(i)}else{if(!(i.which===S.TAB||S.isControl(i)||S.isFunctionKey(i)||i.which===S.ESC)&&!(!1===this.opts.openOnEnter&&i.which===S.ENTER)){if(i.which==S.DELETE){this.opts.allowClear&&this.clear()}else{this.open();if(i.which!==S.ENTER&&!(48>i.which)){var g=String.fromCharCode(i.which).toLowerCase();i.shiftKey&&(g=g.toUpperCase());this.search.focus();this.search.val(g)}P(i)}}}}}));f.delegate("abbr","mousedown",this.bind(function(g){this.enabled&&(this.clear(),P(g),this.close(),this.triggerChange(),this.selection.focus())}));this.setPlaceholder();this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val("");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val()){this.close(),this.setPlaceholder()}else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(f){f!==R&&null!==f&&(e.updateSelection(f),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(f,i){var g=f.find(":selected");T.isFunction(i)&&i({id:g.attr("value"),text:g.text()})});return e},setPlaceholder:function(){var e=this.getPlaceholder();""===this.opts.element.val()&&e!==R&&!(this.select&&""!==this.select.find("option:first").text())&&(this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide())},postprocessResults:function(g,e){var m=0,l=this,i=!0;this.results.find(".select2-result-selectable").each2(function(q,f){if(O(l.id(f.data("select2-data")),l.opts.element.val())){return m=q,!1}});this.highlight(m);!0===e&&(i=this.showSearchInput=o(g.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[i?"removeClass":"addClass"]("select2-search-hidden"),T(this.dropdown,this.container)[i?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(f){var e=this.opts.element.val();this.opts.element.val(this.id(f));this.updateSelection(f);this.close();this.selection.focus();O(e,this.id(f))||this.triggerChange()},updateSelection:function(f){var e=this.selection.find("span");this.selection.data("select2-data",f);e.empty();f=this.opts.formatSelection(f,e);f!==R&&e.append(this.opts.escapeMarkup(f));this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==R&&this.selection.find("abbr").show()},val:function(){var f,e=null,g=this;if(0===arguments.length){return this.opts.element.val()}f=arguments[0];if(this.select){this.select.val(f).find(":selected").each2(function(i,l){e={id:l.attr("value"),text:l.text()};return!1}),this.updateSelection(e),this.setPlaceholder()}else{if(this.opts.initSelection===R){throw Error("cannot call val() if initSelection() is not defined")}f?(this.opts.element.val(f),this.opts.initSelection(this.opts.element,function(i){g.opts.element.val(!i?"":g.id(i));g.updateSelection(i);g.setPlaceholder()})):this.clear()}},clearSearch:function(){this.search.val("")},data:function(f){var e;if(0===arguments.length){return e=this.selection.data("select2-data"),e==R&&(e=null),e}!f||""===f?this.clear():(this.opts.element.val(!f?"":this.id(f)),this.updateSelection(f))}});a=d(h,{createContainer:function(){return T("<div></div>",{"class":"select2-container select2-container-multi"}).html("    <ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi' style='display:none;'>   <ul class='select2-results'>   </ul></div>")},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(f,i){var g=[];f.find(":selected").each2(function(m,l){g.push({id:l.attr("value"),text:l.text()})});T.isFunction(i)&&i(g)});return e},initContainer:function(){var e;this.searchContainer=this.container.find(".select2-search-field");this.selection=e=this.container.find(".select2-choices");this.search.bind("keydown",this.bind(function(f){if(this.enabled){if(f.which===S.BACKSPACE&&""===this.search.val()){this.close();var g;g=e.find(".select2-search-choice-focus");if(0<g.length){this.unselect(g.first());this.search.width(10);P(f);return}g=e.find(".select2-search-choice");0<g.length&&g.last().addClass("select2-search-choice-focus")}else{e.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")}if(this.opened()){switch(f.which){case S.UP:case S.DOWN:this.moveHighlight(f.which===S.UP?-1:1);P(f);return;case S.ENTER:case S.TAB:this.selectHighlighted();P(f);return;case S.ESC:this.cancel(f);P(f);return}}if(!(f.which===S.TAB||S.isControl(f)||S.isFunctionKey(f)||f.which===S.BACKSPACE||f.which===S.ESC)&&!(!1===this.opts.openOnEnter&&f.which===S.ENTER)){this.open(),(f.which===S.PAGE_UP||f.which===S.PAGE_DOWN)&&P(f)}}}));this.search.bind("keyup",this.bind(this.resizeSearch));this.search.bind("blur",this.bind(function(f){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.clearSearch();f.stopImmediatePropagation()}));this.container.delegate(".select2-choices","mousedown",this.bind(function(f){this.enabled&&!(0<T(f.target).closest(".select2-search-choice").length)&&(this.clearPlaceholder(),this.open(),this.focusSearch(),f.preventDefault())}));this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(f){if(f!==R&&f!==null){e.updateSelection(f);e.close();e.clearSearch()}})}},clearSearch:function(){var e=this.getPlaceholder();e!==R&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments);this.clearPlaceholder();this.resizeSearch();this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(f){var e=[],i=[],g=this;T(f).each(function(){0>Q(g.id(this),e)&&(e.push(g.id(this)),i.push(this))});f=i;this.selection.find(".select2-search-choice").remove();T(f).each(function(){g.addSelectedChoice(this)});g.postprocessResults()},tokenize:function(){var e=this.search.val(),e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts);null!=e&&e!=R&&(this.search.val(e),0<e.length&&this.open())},onSelect:function(e){this.addSelectedChoice(e);this.select&&this.postprocessResults();this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close();this.triggerChange({added:e});this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(g){var e=T("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),m=this.id(g),l=this.getVal(),i;i=this.opts.formatSelection(g,e);e.find("div").replaceWith("<div>"+this.opts.escapeMarkup(i)+"</div>");e.find(".select2-search-choice-close").bind("mousedown",P).bind("click dblclick",this.bind(function(f){this.enabled&&(T(f.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(T(f.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),P(f))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));e.data("select2-data",g);e.insertBefore(this.searchContainer);l.push(m);this.setVal(l)},unselect:function(f){var e=this.getVal(),i,g,f=f.closest(".select2-search-choice");if(0===f.length){throw"Invalid argument: "+f+". Must be .select2-search-choice"}i=f.data("select2-data");g=Q(this.id(i),e);0<=g&&(e.splice(g,1),this.setVal(e),this.select&&this.postprocessResults());f.remove();this.triggerChange({removed:i})},postprocessResults:function(){var f=this.getVal(),e=this.results.find(".select2-result-selectable"),i=this.results.find(".select2-result-with-children"),g=this;e.each2(function(l,q){var m=g.id(q.data("select2-data"));0<=Q(m,f)?q.addClass("select2-disabled").removeClass("select2-result-selectable"):q.removeClass("select2-disabled").addClass("select2-result-selectable")});i.each2(function(m,l){0==l.find(".select2-result-selectable").length?l.addClass("select2-disabled"):l.removeClass("select2-disabled")});e.each2(function(m,l){if(!l.hasClass("select2-disabled")&&l.hasClass("select2-result-selectable")){return g.highlight(0),!1}})},resizeSearch:function(){var g,e,m,l,i=this.search.outerWidth()-this.search.width();g=this.search;L||(m=g[0].currentStyle||window.getComputedStyle(g[0],null),L=T("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:m.fontSize,fontFamily:m.fontFamily,fontStyle:m.fontStyle,fontWeight:m.fontWeight,letterSpacing:m.letterSpacing,textTransform:m.textTransform,whiteSpace:"nowrap"}),T("body").append(L));L.text(g.val());g=L.width()+10;e=this.search.offset().left;m=this.selection.width();l=this.selection.offset().left;e=m-(e-l)-i;e<g&&(e=m-i);40>e&&(e=m-i);this.search.width(e)},getVal:function(){var e;if(this.select){return e=this.select.val(),null===e?[]:e}e=this.opts.element.val();return t(e,this.opts.separator)},setVal:function(f){var e;this.select?this.select.val(f):(e=[],T(f).each(function(){0>Q(this,e)&&e.push(this)}),this.opts.element.val(0===e.length?"":e.join(this.opts.separator)))},val:function(){var f,e=[],g=this;if(0===arguments.length){return this.getVal()}if(f=arguments[0]){if(this.setVal(f),this.select){this.select.find(":selected").each(function(){e.push({id:T(this).attr("value"),text:T(this).text()})}),this.updateSelection(e)}else{if(this.opts.initSelection===R){throw Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(l){var i=T(l).map(g.id);g.setVal(i);g.updateSelection(l);g.clearSearch()})}}else{this.opts.element.val(""),this.updateSelection([])}this.clearSearch()},onSortStart:function(){if(this.select){throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var f=[],e=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){f.push(e.opts.id(T(this).data("select2-data")))});this.setVal(f);this.triggerChange()},data:function(f){var e=this,g;if(0===arguments.length){return this.selection.find(".select2-search-choice").map(function(){return T(this).data("select2-data")}).get()}f||(f=[]);g=T.map(f,function(i){return e.opts.id(i)});this.setVal(g);this.updateSelection(f);this.clearSearch()}});T.fn.select2=function(){var g=Array.prototype.slice.call(arguments,0),e,q,m,l,i="val destroy opened open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data".split(" ");this.each(function(){if(0===g.length||"object"===typeof g[0]){e=0===g.length?{}:T.extend({},g[0]),e.element=T(this),"select"===e.element.get(0).tagName.toLowerCase()?l=e.element.attr("multiple"):(l=e.multiple||!1,"tags"in e&&(e.multiple=l=!0)),q=l?new a:new b,q.init(e)}else{if("string"===typeof g[0]){if(0>Q(g[0],i)){throw"Unknown method: "+g[0]}m=R;q=T(this).data("select2");if(q!==R&&(m="container"===g[0]?q.container:q[g[0]].apply(q,g.slice(1)),m!==R)){return!1}}else{throw"Invalid arguments to select2 plugin: "+g}}});return m===R?this:m};T.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(f,e,g){e=[];M(f.text,g.term,e);return e.join("")},formatSelection:function(e){return e?e.text:R},formatResultCssClass:function(){return R},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(f,e){return"Please enter "+(e-f.length)+" more characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(f,e){return 0<=e.toUpperCase().indexOf(f.toUpperCase())},separator:",",tokenSeparators:[],tokenizer:j,escapeMarkup:function(e){return e&&"string"===typeof e?e.replace(/&/g,"&amp;"):e},blurOnChange:!1};window.Select2={query:{ajax:K,local:J,tags:r},util:{debounce:N,markMatch:M},"class":{"abstract":h,single:b,multi:a}}}})(jQuery);(function(a,b,c){"use strict";var d=b.event,e;d.special.smartresize={setup:function(){b(this).bind("resize",d.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",d.special.smartresize.handler)},handler:function(a,c){var d=this,f=arguments;a.type="smartresize",e&&clearTimeout(e),e=setTimeout(function(){b.event.handle.apply(d,f)},c==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Mason=function(a,c){this.element=b(c),this._create(a),this._init()},b.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},b.Mason.prototype={_filterFindBricks:function(a){var b=this.options.itemSelector;return b?a.filter(b).add(a.find(b)):a},_getBricks:function(a){var b=this._filterFindBricks(a).css({position:"absolute"}).addClass("masonry-brick");return b},_create:function(c){this.options=b.extend(!0,{},b.Mason.settings,c),this.styleQueue=[];var d=this.element[0].style;this.originalStyle={height:d.height||""};var e=this.options.containerStyle;for(var f in e)this.originalStyle[f]=d[f]||"";this.element.css(e),this.horizontalDirection=this.options.isRTL?"right":"left",this.offset={x:parseInt(this.element.css("padding-"+this.horizontalDirection),10),y:parseInt(this.element.css("padding-top"),10)},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var g=this;setTimeout(function(){g.element.addClass("masonry")},0),this.options.isResizable&&b(a).bind("smartresize.masonry",function(){g.resize()}),this.reloadItems()},_init:function(a){this._getColumns(),this._reLayout(a)},option:function(a,c){b.isPlainObject(a)&&(this.options=b.extend(!0,this.options,a))},layout:function(a,b){for(var c=0,d=a.length;c<d;c++)this._placeBrick(a[c]);var e={};e.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var f=0;c=this.cols;while(--c){if(this.colYs[c]!==0)break;f++}e.width=(this.cols-f)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:e});var g=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",h=this.options.animationOptions,i;for(c=0,d=this.styleQueue.length;c<d;c++)i=this.styleQueue[c],i.$el[g](i.style,h);this.styleQueue=[],b&&b.call(a),this.isLaidOut=!0},_getColumns:function(){var a=this.options.isFitWidth?this.element.parent():this.element,b=a.width();this.columnWidth=this.isFluid?this.options.columnWidth(b):this.options.columnWidth||this.$bricks.outerWidth(!0)||b,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((b+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(a){var c=b(a),d,e,f,g,h;d=Math.ceil(c.outerWidth(!0)/this.columnWidth),d=Math.min(d,this.cols);if(d===1)f=this.colYs;else{e=this.cols+1-d,f=[];for(h=0;h<e;h++)g=this.colYs.slice(h,h+d),f[h]=Math.max.apply(Math,g)}var i=Math.min.apply(Math,f),j=0;for(var k=0,l=f.length;k<l;k++)if(f[k]===i){j=k;break}var m={top:i+this.offset.y};m[this.horizontalDirection]=this.columnWidth*j+this.offset.x,this.styleQueue.push({$el:c,style:m});var n=i+c.outerHeight(!0),o=this.cols+1-l;for(k=0;k<o;k++)this.colYs[j+k]=n},resize:function(){var a=this.cols;this._getColumns(),(this.isFluid||this.cols!==a)&&this._reLayout()},_reLayout:function(a){var b=this.cols;this.colYs=[];while(b--)this.colYs.push(0);this.layout(this.$bricks,a)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(a){this.reloadItems(),this._init(a)},appended:function(a,b,c){if(b){this._filterFindBricks(a).css({top:this.element.height()});var d=this;setTimeout(function(){d._appended(a,c)},1)}else this._appended(a,c)},_appended:function(a,b){var c=this._getBricks(a);this.$bricks=this.$bricks.add(c),this.layout(c,b)},remove:function(a){this.$bricks=this.$bricks.not(a),a.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),b(a).unbind(".masonry")}},b.fn.imagesLoaded=function(a){function h(){a.call(c,d)}function i(a){var c=a.target;c.src!==f&&b.inArray(c,g)===-1&&(g.push(c),--e<=0&&(setTimeout(h),d.unbind(".imagesLoaded",i)))}var c=this,d=c.find("img").add(c.filter("img")),e=d.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",g=[];return e||h(),d.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var a=this.src;this.src=f,this.src=a}),c};var f=function(b){a.console&&a.console.error(b)};b.fn.masonry=function(a){if(typeof a=="string"){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=b.data(this,"masonry");if(!d){f("cannot call methods on masonry prior to initialization; attempted to call method '"+a+"'");return}if(!b.isFunction(d[a])||a.charAt(0)==="_"){f("no such method '"+a+"' for masonry instance");return}d[a].apply(d,c)})}else this.each(function(){var c=b.data(this,"masonry");c?(c.option(a||{}),c._init()):b.data(this,"masonry",new b.Mason(a,this))});return this}})(window,jQuery);
Array.prototype.unique=function(){var e={},c,b=this.length,d=[];for(c=0;c<b;c++){e[this[c]]=this[c]}for(c in e){d.push(e[c])}return d};Array.prototype.diff=function(b){return this.filter(function(c){return!(b.indexOf(c)>-1)})};String.prototype.trim=function(){a=this.replace(/^\s+/,"");return a.replace(/\s+$/,"")};String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(b){return b.toUpperCase()})};var IE=(document.all)?true:false;var hash=(location||window.location).hash||"";var $p=null;var user={};var design={};var prints=["screen print","direct to garment","embroidery","sublimation print"];var print={0:[prints[1]],1:[prints[0],prints[2]],2:prints};var sides=["front","back","frontl","frontr"];var view={0:sides,1:[sides[0],sides[1]],2:[sides[0]]};var product=null;var action=null;var popup={title:"",icon:"",url:"",buttons:[]};var req_uri=location||window.location;var facebook_app_id=183720688343620;var iLogo=iLogo||{};var buynow=new RegExp("#!cart-[0-9]*!quickbuy");var loc=location||window.location;var cur_pg=1;var globaltmp=[];var _gaq=_gaq||[];var protocol=protocol||window.location.protocol||"https:";var zopim_hidden=zopim_hidden||false;var home=home||false;var to_ids={};window.onpopstate=function(e){};iLogo.now=function(){return new Date().getTime();};iLogo.FBInit=function(){(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.async=true;js.src="//connect.facebook.net/en_US/all.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));window.fbAsyncInit=function(){FB.init({appId:facebook_app_id,channelUrl:location.protocol+'//'+ location.hostname+'/channel.php',xfbml:true});$(document).trigger("iLogo.FBInit.done");}};iLogo.twttr=function(){window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}});}(document,"script","twitter-wjs"));twttr.ready(function(tw){tw.events.bind("tweet",function(){_gaq.push(['_trackSocial','twitter','tweet',window.location.toString()]);});tw.events.bind("follow",function(e){$.showPromo(true);_gaq.push(['_trackSocial','twitter','follow',e.data.user_id]);});});};iLogo.po=function(){var config={script:'https://apis.google.com/js/plusone.js',timeout:3000,id:"po-script"};iLogo.loadScript(config.script,config.timeout,config.id);};iLogo.pin=function(){var config={script:location.protocol+'//assets.pinterest.com/js/pinit.js',timeout:3000,id:"pin-script"};iLogo.loadScript(config.script,config.timeout);};$(document).bind("iLogo.FBInit.done",function(){if(typeof FB=="undefined")return false;FB.Event.subscribe('edge.create',function(targetUrl){$.showPromo(true);_gaq.push(['_trackSocial','facebook','like',targetUrl]);});FB.Event.subscribe('edge.remove',function(targetUrl){$.showPromo(false);_gaq.push(['_trackSocial','facebook','unlike',targetUrl]);});FB.getLoginStatus(function(r){if(r.status=="connected")$(document).trigger("iLogo.FBConnect.done");else $(document).trigger("iLogo.FBConnect.disconnected");});});$(document).bind("iLogo.FBConnect.disconnected",function(){$(".ifblogin").click(function(e){e.preventDefault();FB.login(function(r){if(r.status=="connected"){$(document).trigger("iLogo.FBConnect.done");window.location.reload();}},{scope:"email,publish_actions"});});});$(document).bind("iLogo.FBConnect.done",function(){if(!$.jStorage.get("_utime",false)){$.get('/ajax/user.php',{action:'set_fbaccess',token:FB.getAccessToken()},function(){var _utime=new Date().getTime();$.jStorage.set("_utime",_utime,{TTL:30*60*1000});});}
$("[data-share-facebook]").bind("click",function(e){e.preventDefault();var link=$(this).data("share-facebook")||location.href;FB.ui({method:"feed",link:link},function(r){});});$("[data-share-facebook][data-auto-trigger=click]").trigger("click");$("[data-publish=design]").bind("click",function(){var publish_by_url=$(this).data('url')||location.href;var action=$(this).data("support")?'support':'design';var obj={};var object=action=='support'?'cause':'t_shirt';obj[object]=publish_by_url;FB.api('me/ilogo_t_shirts:'+action,'post',obj,function(response){});});});iLogo.chat=function(hide){if(hide==false){window.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s=d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set._.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute('charset','utf-8');$.src=protocol+'//cdn.zopim.com/?Nam6CDufw1BgENPvsK0IbIdXt3Z2vhq9';z.t=+new Date;$.type='text/javascript';e.parentNode.insertBefore($,e);try{$zopim.livechat.window.hide();}catch(e){}})(document,'script');$(document).trigger("iLogo.chat.done");}};iLogo.loadScript=function(script,timeout,id){id=id==undefined?'s_'+ iLogo.now():id;if($("#"+id).length>0)return;var h=document.getElementsByTagName("html")[0];h.className+=" "+id+"-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)script-loading(\s|$)/g," ");h.className+=" "+id+"-inactive"},timeout);var tk=document.createElement("script"),d=false;tk.src=script;tk.type="text/javascript";tk.async="true";tk.id=id;tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s);};function tracking(){$(document).trigger("iLogo.ga.done");}
$(window).load(function(){tracking();iLogo.po();if($(".pin-it-button").length>0){iLogo.pin();$("[class^=PIN_]").hide();$("[data-pin-log=button_pinit]").bind("click",function(e){var targetUrl=e.target;_gaq.push(['_trackSocial','pinterest','pin',targetUrl]);});}
iLogo.FBInit();iLogo.twttr();hide=zopim_hidden||false;if(!$.browser.mozilla){iLogo.chat(hide);}else{$("[href='#chat']").click(function(){iLogo.chat(hide);});}
if($.browser.msie){if(parseInt($.browser.version,10)<9&&parseInt($.browser.version,10)>5){$.getScript('/js/selectivizr-min.js');}}
if(home){$('#slider').nivoSlider({effect:'fade',animSpeed:500,pauseTime:3000,startSlide:0,directionNav:false,controlNav:true,controlNavThumbs:false,pauseOnHover:true,manualAdvance:false,prevText:'&laquo;',nextText:'&raquo;',randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}});}
$("[data-clickopen]").bind({"click":function(){var $this=$(this);var $target=$("[data-"+ $this.data("clickopen")+"]");$target.toggleClass("active");}});$(".navarea input, .navarea .btn").outerHeight($(".navarea").outerHeight());});(function($){var $body=$("body");$.maxHeight=function(els){var _max_height=0;$.each(els,function(a,b){var content_height=$(this).get(0).scrollHeight;_max_height=(content_height>_max_height)?content_height:_max_height;});return _max_height;};var horizontalMenu=$(".cbp-hrmenu");if(horizontalMenu.length){var left=horizontalMenu.offset().left;var arrow=$("<div class='tooltip fade in bottom' />").append("<div class='tooltip-arrow' style='border-bottom-color:#fff' />");$(".cbp-hrsub").css({width:$(".inner").width()>0?$(".navarea .inner").width():960,left:left}).prepend(arrow);$(".cbp-hrmenu>ul>li").each(function(){var sub_left=$(this);$(this).find('.tooltip').css({left:sub_left.offset().left+ sub_left.width()/2 - left,
marginTop:"-5px"});});}
$("[rel=tooltip]").tooltip();$("[placeholder]").not(".input").tooltip({title:function(){return $(this).attr("placeholder");},placement:function(){return $(this).data("placement")||"right"}});$("[data-hover=pop]").popover({trigger:"hover",content:function(){var h=$(this).attr("href");if((h||"").indexOf("#")==0){return $(h).html();}else{$.get(h,function(r){return r;});}}});$("[data-click=pop]").popover({trigger:"click",content:function(){var h=$(this).attr("href");if((h||"").indexOf("#")==0){return $(h).html();}else{$.get(h,function(r){return r;});}}});$("[data-click=popnew]").popover({trigger:"click",content:function(){var h=$(this).attr("href");if((h||"").indexOf("#")==0){return $(h).html();}else{$.get(h,function(r){return r;});}},template:'<div class="popover new"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'});if($.browser.msie||$(window).width()<480){$.fn.select2=function(){return true;}}
$("select.g-select").each(function(){var e=$(this);e.select2({minimumResultsForSearch:20});if(!!e.data("val")){e.select2("val",e.data("val"));}});$body.removeClass("no-jQuery");$(".super").bind("mousemove",function(){var minWidth=$(this).width();$(this).find("ul:not('.dropdown2')").css({"min-width":minWidth}).slideDown("fast");}).bind("mouseleave",function(){$(this).find("ul:not('.dropdown2')").slideUp("fast");});$.supported=function(a,b){var support_a=!!window[a];if(b!=undefined)return support_a?!!window[a][b]:false;return!!window[a];};$.removeHash=function(){if($.supported('history','pushState')){history.pushState("",$(document).attr("title"),loc.pathname);}else{var scroll_defaults={scrollLeft:$body.scrollLeft(),scrollTop:$body.scrollTop()};window.location.hash="";$body.animate(scroll_defaults,400);}};$(".second-drop-down").bind("mousemove",function(){$(this).parent("ul").css("overflow","visible");$(this).find("ul").show("fast");}).bind("mouseleave",function(){$(this).find("ul").hide("fast");});$(".dropdown-submenu").bind("mousemove",function(){$(this).find("i").css({opacity:0.5});$(this).find("ul").show("fast");}).bind("mouseleave",function(){$(this).find("i").css({opacity:""});$(this).find("ul").hide("fast");});$('a[href^="#"]').click(function(e){e.preventDefault();var hash=this.hash;var $target=$(hash);if($target.length>0){$('html, body').stop().animate({'scrollTop':$target.offset().top},600,function(){window.location.hash=hash;});}});$("[data-toggle=nav]").click(function(e){e.preventDefault();$($(this).data("target")).slideToggle();});$("input[type=number][min]").bind("change",function(){var min=parseInt($(this).attr("min"));var $this=$(this);if(min>$(this).val()){$this.tooltip({title:"Minimum Required: "+min,trigger:"manual"});$this.tooltip("show");$this.parents(".control-group").addClass("error");}else{$this.tooltip("destroy");$this.parents(".control-group").removeClass("error");}});var modals=$(".modal");modals.each(function(){if($(this).parent(".modal-wrapper").length==0){$(this).wrap("<div class=\"modal-wrapper hide\" />");}});modals.on('show',function(){$(this).parents(".modal-wrapper").show();});$(".modal-wrapper").bind("click",function(e){var outsideArea=$(e.target).hasClass("modal-wrapper");if(outsideArea){$(this).find("[data-dismiss]").trigger("click");}});$("[required]").parents(".control-group").find(".control-label").append($("<span class='text-error'> *</span>"));$("#retrieve").click(function(e){e.preventDefault();var $this=$(this);var $that=$(".topretrievepanel");$that.css({position:"absolute",right:$("body").outerWidth()-($this.offset().left+ $this.outerWidth()),top:$this.offset().top+ $this.outerHeight(),zIndex:100}).toggle();});$.getEScript=function(url,callback,cache){jQuery.ajax({type:"GET",url:url,success:callback,dataType:"script",cache:cache,global:false});};$.showPromo=function(show){var pshow=show.state==undefined?show:(show.state=='on');if(pshow){$("#pcode").load("/ajax/product.php?action=fbpromo&id=1",{},function(response,status,xhr){});}else{$("#pcode").html("CODE WILL BE DISPLAYED HERE");}};$("#offer").on('shown',function(){if(typeof FB!="undefined"){FB.api('/me/likes/53331546362',function(r){if((r.data||[]).length>0){$.showPromo(true);}});}});var topSpace=(!$(".sidenav-scroll").length)||$(".maintop").offset().top+ $(".logowrap").offset().top+ $(".navarea").offset().top+ 30;if(!!hash){$(".sidenav a[href='"+ hash+"']").tab('show');}
fixedNav();$(".sidenav a:not('.no-click')").click(function(){$(".sidenav").trigger('detach.ScrollToFixed');$('body,html').animate({scrollTop:0},800,function(){fixedNav();});});function fixedNav(){$(".sidenav-scroll").scrollToFixed({marginTop:30,limit:function(){return $('#footer').offset().top- $('.sidenav').outerHeight()- 130;}});}
var hCategory=$("input[name=h_category]").val();if(hCategory!=0){$("select[data-change=productDrop]").val(hCategory);}
$("select[name='country']").change(function(){$("select[data-change='productDrop']").trigger("change");});$("[name='product_qty']").blur(function(){user.pr_qty=$(this).val();});var ajaxStartTime;$.ajaxSetup({beforeSend:function(){$('.loader').show();$('.btn, button, input[type=submit]').attr("disabled",true);ajaxStartTime=$.now();}});$(document).ajaxComplete(function(e,a,settings){$('.loader').hide();$('.btn, button, input[type=submit]').attr("disabled",false);_gaq.push(['_trackTiming','ajax',$.now()- ajaxStartTime,settings.url]);if(a.statusText=="OK"||a.statusText=="success"){var isJSON=(settings.dataType||"").toUpperCase()==="JSON";if(isJSON){a=$.parseJSON(a.responseText);a.datachange=a.datachange||{};var dt=$.extend(a.data,a.datachange);if(isJSON&&dt!=undefined){for(var o in dt){if(dt.hasOwnProperty(o)){var target=$("[data-bind="+o+"]");if(target.is("input")){target.val(dt[o]);}else if(target.is("select")){target.find("option[value="+dt[o]+"]").attr("selected",true);}else{target.html(dt[o]);}}}}
if(a.refresh){window.location="";}}}});$("select[data-change='productDrop']").change(function(){$p=$(this).data("change");var tp=print[$("option:selected",$(this)).data("print")];var tv=view[$("option:selected",$(this)).data("view")];$("#radio_print").html("");$.each(tp,function(i,val){var checked=(i==0)?"checked":"";$("<label for='print_"+ i+"' class='radio inline'><input type='radio' value='"+ parseInt(prints.indexOf(val)+ 1)+"' id='print_"+ i+"' name='print' "+ checked+"/>"+ val+"</label>").appendTo($("#radio_print"))});$.each(sides,function(i,val){$("[name='"+ val+"']").attr("disabled",false);});$.each(sides.diff(tv),function(i,val){$("[name='"+ val+"']").attr("disabled",true);});var country=$("[name='country']").val()||"India";var id=$(this).val();var selectedProduct=0;var hProduct=$("input[name=h_product]");if(hProduct.val()!=0){selectedProduct=hProduct.val();}
$("#"+ $p).ddslick('destroy');$.getJSON('/ajax/product.php',{id:id,action:'productlist',country:country,ajax:1},function(dt){var str='';var dd=[];for(var i=0;i<dt.length;i++){var clrcount=dt[i].product_colors.split("|").length;var selected=false;if(dt[i].id==selectedProduct){selected=true;}
dd.push({text:dt[i].name,value:dt[i].id,description:"Min Qty: "+ dt[i].minimum+" Available colors: "+ clrcount,imageSrc:'https://src1.ilogo.in/images/products/'+ dt[i].id+'/Showcase.jpg',selected:selected});}
$("#"+ $p).ddslick({width:300,height:300,data:dd,onSelected:function(data){$("#info").addClass("in");var pr=dt[data.selectedIndex]||{product_colors:""};product=pr.id;var ul=$("ul");var colors=pr.product_colors.split("|")||[];var str="<ul style='width:300px'>";for(var i=0;i<colors.length;i++){str+="<li style ='display: inline-block;background:"+ colors[i]+";width:26px;height:26px;margin:5px;border:1px solid #000;' title='"+(colorKeys[colors[i].replace("#","")]||"").capitalize()+"' class='color-tooltip'></li>";}
str+="</ul>";$("#color-palette").html(str);$(".color-tooltip").tooltip();$(".currency").html(pr.currency);$("#bp_white").html(pr.cost.white);$("#bp_color").html(pr.cost.color);$("#min_order").html(pr.minimum);var productQty=$("[name=product_qty]");productQty.attr("min",pr.minimum);if(productQty.val()<parseInt(pr.minimum)){productQty.val(pr.minimum);}else if(user.hasOwnProperty("pr_qty")){productQty.val(user.pr_qty);}
$("[name=h_product]").val(product);$("[name=quote_submit]").trigger("click");}});});});$("[name=quote_submit]").click(function(){var str=$(this).parents('form').serialize();str+="&id="+ product+"&action=cost";$.getJSON('/ajax/product.php?'+ str,function(dt){$("#pp_white").html(dt.cost.white);$("#pp_color").html(dt.cost.color);});return false;});$(".retrieve img").on("error",function(){$(this).parents("tr").hide(400,function(){$(this).remove();});});$("[data-action]").live("click",function(){var action=$(this).data("action")||false;if(!action)
return false;var id=$(this).attr("data-id")||false;var __color__=$(this).data("color")||"";var __product__=$(this).data("product")||"";switch(action){case'quickbuy':popup={title:"Quick Buy",icon:"shoping_cart",url:"/ajax/product.php?action=quickbuy"+("&color="+ __color__.replace("#","_")+"")+(id?("&id="+ id):'')+("&product="+ __product__),hash:"!cart-"+id+"!quickbuy"};break;case'cart':popup={title:"Cart",icon:"shopping_cart",url:"/ajax/product.php?action=cart"};break;case'request_sample':popup={title:"Request A Sample",icon:"shoping_cart",url:"/ajax/product.php?action=request_sample"+(id?("&id="+ id):'')};break;default:break;}});$("[data-user-action]").click(function(){action=$(this).data("user-action")||false;var data=$.param($(this).data());var self=$(this).data();if(!action)
return false;switch(action){case'change_passwd':popup={title:"Change Password",icon:"lock",url:"/ajax/user.php?action=modal&tpl=change_passwd"};break;case'update_profile':popup={title:"Update Profile",icon:"pencil",url:"/ajax/user.php?action=modal&tpl=update_profile"};break;case'update_address':popup={title:"Update Address",icon:"rotate",url:"/ajax/user.php?action=modal&tpl=update_address"};break;case'send_query':popup={title:"Query",icon:"about",url:"/ajax/user.php?action=modal&tpl=send_query"};break;case'gen_coupon':popup={title:"iLogo Coupons",icon:"gift",url:"/ajax/user.php?action=modal&tpl=gen_coupon"};break;case'campaign_report':popup={title:"Campaign Report",icon:"ok",url:"/ajax/user.php?action=report&tpl=gen_report&"+ data};break;case'store-add':popup={title:"Add Item to Your Personalized Store",icon:"gift",url:"/ajax/user.php?tpl=store_add&action=modal&"+ data};break;case'design_report':popup={title:"Sale of Your Personalized Design",icon:"shoping_cart_filled",url:"/ajax/user.php?action=design_report&id="+ self.id};break;case'modal':popup={title:self.title,icon:self.icon,url:"/ajax/user.php?action=modal&"+data};break;default:popup={title:action.replace("_"," "),icon:"arrow",url:"/ajax/user.php?action=modal&tpl="+action};break;}});$("#UModal").on('shown',function(){var $modal=$(this);var $mbody=$modal.find(".modal-body");$mbody.html("<img src='/images/loading.gif' />");$modal.find(".modal-header h3").html("<i class='sprite-"+ popup.icon+" vtb'></i> "+ popup.title);$.getJSON(popup.url,function(r){if(r.html!==undefined)$mbody.html(r.html);$modal.trigger("loaded");});});$("[name^=qty_]").live('change',function(){});$("#IModal, #UModal").bind('hidden',function(){var $modal=$(this);$modal.find(".modal-body").html("Loading...");$.removeHash();});modals.on("hidden",function(){$(this).parent(".modal-wrapper").hide();});$("#IModal,#UModal").bind('loaded',function(){var self=$(this);$("[data-color-select]").click(function(){$("[name=product_color]").select2("val",$(this).data("color-select"));});$("select.g-select").each(function(){var val=$(this).val();$(this).select2({minimumResultsForSearch:10}).on("change",function(e){if($(this).data("trigger")=="change"){$("[data-color-select='"+e.val+"']",self).trigger("click");}}).trigger({type:"change",val:val});});$("[data-google-map]").bind("blur",function(){var states=[];var inputPlace=$(this).val();if($.trim(inputPlace)!=""){$.getJSON("/ajax/product.php?city="+inputPlace+"&action=get_state",function(r){if(r.status=="OK"){for(var i=0;i<r.results.length;++i){states.push(r.results[i].address_components[2].long_name);}
globaltmp=$.unique(states);}}).done(function(){var stateInput=$("[data-state]");stateInput.typeahead();if(globaltmp.length>0){stateInput.data('typeahead').source=globaltmp;}});}});});$("#IModal").on('shown',function(){var $modal=$(this);var $mbody=$modal.find(".modal-body");$mbody.html("<img src='/images/loading.gif' />");$modal.find(".modal-header h4").html("<i class='sprite-"+ popup.icon+" vtb'></i> "+ popup.title);$.ajax({url:popup.url,dataType:"html",type:"get",success:function(dt){$mbody.html(dt);$modal.trigger("loaded");if(popup.hash!=undefined)window.location.hash=popup.hash;}}).complete(function(dt,xhr){if(xhr.statusText!='OK'){$mbody.html(xhr.statusText);}
$(".thumb").on('click',function(e){e.preventDefault();var $newsrc=$(this).find("img").attr("src");var sid=$(this).parents("ul").attr("id");if(sid){var pnl=sid.replace("small_","big_");$("#"+ pnl).find("img").fadeOut(400,function(){$(this).attr("src",$newsrc).fadeIn(400);});}
$modal.trigger("change");});$("[data-color-select="+$("[name=product_color]").val()+"]").trigger("click");$("[data-tab=tab]").click(function(e){e.preventDefault();$(this).parents(".nav-tabs").find(".active").removeClass("active");$(this).parents("li").addClass("active");var target=$($(this).attr("href"));target.parents(".tab-content").find(".tab-pane").removeClass("active").css({display:"none"});target.css({display:"block"}).addClass("active");});$modal.on('change',function(){var minQty=$modal.find("[name=minQty]").val()||1;updatePrice(minQty);});$modal.trigger("change");$("[name=quick_submit]").on('click',function(e){e.preventDefault();var str=$("[name=quickbuy]").serialize();var redirect_to_cart=$(this).data("redirect");$.ajax({url:'/ajax/product.php?action=additem&id=0',data:str,type:'post',dataType:'json',beforeSend:function(){$mbody.find("input,select,.btn").attr("disabled",true);},success:function(dt){dt=$.extend({redirect:false,data:{}},dt);$modal.find(".modal-header h3").html("<i class='sprite-checkout'></i> Please Wait...");$mbody.animate({opacity:0},400,function(){$mbody.html(dt.data);$mbody.animate({opacity:1});window.location.hash="#item-added-"+dt.id;if(redirect_to_cart&&dt.redirect){window.location=dt.redirect;}else{window.location.reload();}});}}).error(function(a,b,er){$("input,select,.btn").attr("disabled",false);alert("Error in adding item to cart: "+ er);});});$(".pallete").tooltip();});});var colorDecode=$("#color-decode");$(".pallete[data-product]").mouseover(function(){var $this=$(this);var p=$this.data("product")||661;var p_color=$this.data("product_color")||"_ffffff";var colorDecode=$("#color-decode");colorDecode.find(".color").css({background:$this.css("background"),"background-color":$this.css("background-color")});colorDecode.find(".color_name").html($this.data("original-title"));var $link=$(this).data("create")==true?"/create.php":"/design.php";colorDecode.find(".dlink").attr("href",$link+"?p="+p+"&product_color="+p_color);}).click(function(){var p=$(this).data("product")||661;var p_color=$(this).data("product_color")||"_ffffff";var $link=$(this).data("create")==true?"/create.php":"/design.php";window.location.href=$link+"?p="+p+"&product_color="+p_color.replace("#","_");});colorDecode.find(".color").bind("click",function(){colorDecode.find(".dlink").trigger("click");});function updatePrice(minQty){var ppColor=$("#pp_color");ppColor.html("<i class='sprite-calculator'></i> Calculating...");$("[type=submit]").attr("disabled",true);var s=0;$("[name^=qty]").each(function(){s+=Number($(this).val());});if(s<minQty){$(".notify").html("Quantity should be bigger than "+--minQty);ppColor.html("Error");return false;}else{$(".notify").html("");}
$("[name=totalQty]").val(s);var c=$("select[name='country'] option:selected").val();$.ajax({url:"/ajax/product.php?qty="+ s+"&id="+ $("[name=design_id]").val()+"&country="+ c+"&action=design_price&json=1&product_color="+($("[name=product_color]").val()||"").replace("#","_")+"&product_id="+ $("[name=product_id]").val(),dataType:"json",success:function(dt){if(!!parseFloat((dt.data||{discount:0}).discount)){$("[data-bind=discount]").parent(".alert").show();}else{$("[data-bind=discount]").parent(".alert").hide();}
if($.isPlainObject(dt.data)&&$.isArray(dt.data.colors)){dt.data.colors.length&&$("[data-color-value]").css("display","none")&&$.each(dt.data.colors,function(a,color){$("[data-color-value="+ color.replace("#","_")+"]").show();});}
$("[type=submit]").attr("disabled",false);}}).error(function(a,b){$("#pp_color").html("Error: "+ b);}).complete(function(a,b){});}
var designIdea=$("[data-idea]");if(designIdea.length>0){var progress=false;var $this=designIdea;var total=$this.data("total");var per_page=$this.data("perpage");var url=$this.data("uri");$(window).scroll(function(){if(cur_pg<=parseInt(total/per_page)){if($(window).scrollTop()>=$(document).height()- $(window).height()- $("#footer").height()&&!progress){var loc_split=loc.pathname.split("\/");var cat=loc_split[1];progress=true;$.get(url+"/"+ ++cur_pg,function(data){data=$(data).find(".designideacontainer");data.each(function(){$('.designideacontainer').last().after($(this));});if(!!window.Grid){Grid.addItems(data);}
try{}catch(ex){}
try{if(typeof twttr!=undefined)twttr.widgets.load();}catch(ex){}}).complete(function(){$(document).trigger("update_price");progress=false;});}}});$(".designideacontainer").live('mouseover',function(){var $this=$(this);});}
$(function(){$(window).scroll(function(){if($(this).scrollTop()>100){$('#back-top').fadeIn();}else{$('#back-top').fadeOut();}});$("#back-top").find("a").click(function(){$('body,html').animate({scrollTop:0},800);return false;});});$(".ajaxform").live("submit",function(e){e.preventDefault();var fdt=$(this).serialize();var method=($(this).attr("method")||"").toLowerCase()=="post"?"POST":"GET";var act_url=$(this).attr("action")||"#";var return_type=$(this).data("type")||"html";var responseDiv=$(this).data("response")||"hidden__";$.ajax({url:act_url,type:method,data:fdt,dataType:return_type,success:function(dt){var result=return_type=="json"?dt.html:dt;if(dt.hasOwnProperty("datachange")){for(var k in dt.datachange){if(dt.datachange.hasOwnProperty(k)){$("."+k).html(dt.datachange[k]);}}}
$("#"+responseDiv).slideUp(function(){$(this).html(result).slideDown();if(dt.error!=undefined){if(dt.error==0){$(this).addClass("alert-success");}}});}});return false;});$("form[data-validate=true]").on("submit",function(e){$(this).find("[required]").each(function(){var val=$.trim($(this).val());if(val==""||val=="null"){$(this).focus();$(this).parents("control-group").addClass("error");alert($(this).attr("name")+" is required.");e.preventDefault();return false;}});$(this).find("[data-checkbox-required]").each(function(){var field_name=$(this).data("checkbox-required");if($("[name=\""+field_name+"\"]:checked").length<1){var msg=$(this).data("msg")||(field_name+"is required");$(this).parents("control-group").addClass("error");alert(msg);e.preventDefault();return false;}});$(this).parents("control-group").removeClass("error");});$("#same_as_above").click(function(){if($(this).is(":checked")){$(this).parents("form").find("input[name*=ship_]").each(function(){$(this).val($("[name="+$(this).attr("name").split("ship_")[1]+"]").val());});}else{$(this).parents("form").find("input[name*=ship_]").each(function(){$(this).val("");});}});$("a[data-win-print]").bind("click",function(e){e.preventDefault();var $this=$(this);var toBePrint=$.trim($this.data("win-print")||"");var printDiv=$("<div />");var hurl=$this.attr("href");var date=new Date();var ifrid="ifr_"+ date.getTime();var ifr=$("<iframe id=\""+ifrid+"\" class=\"hide\"></iframe>");if(toBePrint=="url"){ifr.attr("src",hurl)}
ifr.appendTo("body");var cur_frame=window.frames[ifrid];if(toBePrint==""||toBePrint=="container"){printDiv.html("");hurl=toBePrint==""?"[data-printable]":hurl;$(hurl).each(function(){printDiv.append($(this).clone());});$("head",cur_frame.document).append($("#main_stylesheet").clone());$("body",cur_frame.document).append(printDiv);$("body",cur_frame.document).append($(".logo").clone());}
window.frames[ifrid].print();});$("[name=disearch]").bind("submit",function(e){e.preventDefault();var query=$.trim($("[name=designideasearch]").val());if(query!=""){window.location="/custom_tshirts/"+ query;}
return false;});$("#selectCountry").bind("change",function(){var option=$(this).find("option:selected").html();$.get('/ajax/product.php',{action:"session_change",id:option});});$("input:checkbox[data-shower=tab]").bind("change",function(){var hideSection=$(this).data("hide")||[];var showSection=$(this).data("show")||[];var show=$(this).is(":checked");if(show){$(hideSection).hide();$(showSection).show();}else{$(showSection).hide();$(hideSection).show();}});$("[data-hover-orange]").bind("mouseover mouseout",function(){$(this).toggleClass("highlight");$(this).find("a").toggleClass("highlight");$(this).find("i").toggleClass("sprite-orange");});$("input[placeholder]").bind("mouseover",function(){$(".tooltip").animate({marginLeft:"-6px"});}).bind("mouseout",function(){$(".tooltip").animate({"margin-left":""});});$("input[data-facebook-user]").bind("blur",function(){var q=$(this).val();$.ajax({url:"/ajax/common.php",data:{action:"query_facebook",q:q},dataType:"json"});});$("img[data-zoom]").mouseover(function(){$(this).data("original",$(this).attr("src"));$(this).attr("src",$(this).data("zoom"));}).mouseout(function(){$(this).attr("src",$(this).data("original"));});$("img").error(function(){var newsrc=$(this).attr("src").indexOf("?")>=0;$(this).attr("src",$(this).attr("src")+(newsrc?"&":"?")+ iLogo.now());$(this).unbind("error");});var iframeModal=$("#IFrameModal");iframeModal.on('hidden',function(){if($.supported('history','back')&&!!$(this).data('old-state')){history.back();$(this).data('old-state',false);}});$("[data-frame]").bind("click",function(e){e.preventDefault();var src=$(this).attr("href");var query=$("<a href='"+src+"' />").get(0).search;var sendIframe="";if(query){sendIframe="&access_method=iframe";}else{sendIframe="?access_method=iframe";}
var win={width:$(window).width(),height:$(window).height()};var poper=$(this);if(iframeModal.data("src")==src){iframeModal.modal("show");iframeModal.find("iframe").trigger("load");return true;}
var iframe=$("<iframe src='"+src+ sendIframe+"' />").css({width:'100%',height:'100%'}).attr({frameborder:0,allowtransparency:true,scrolling:'no',width:'100%',height:'100%'}).load(function(){var extraMargin=120;var iDoc=iframe.get(0).contentWindow.document;var $ibody=$('body',iDoc).addClass("iframe_body");iframe.height($ibody.height()+ extraMargin);$(iDoc).bind("change",function(){iframe.height($ibody.height()+ extraMargin);});iframeModal.find('.modal-header').find('h3').html(iDoc.title||'');iframeModal.data('src',src);if($.supported('history','pushState')){iframeModal.data('old-state',location.href);history.pushState({'iframe':iDoc.title},iDoc.title,src);}});iframeModal.modal('show').find('.modal-body').html('').append(iframe);return true;});})(jQuery);jQuery(document).ready(function($){if($("input[name='h_product']").val()!=0){$("select[data-change='productDrop']").triggerHandler('change');}
if(buynow.test(loc.hash)){var dataid=parseInt(loc.hash.replace("#!cart-","").replace("!quickbuy",""));$("[data-id="+dataid+"]").trigger("click");}
$("[data-auto-trigger]").each(function(){var auto_trigger=$(this).data("auto-trigger");$(this).trigger(auto_trigger);});});jQuery(document).ready(function($){var dataRange=$("[data-rearrange]");if(dataRange.length>0){dataRange.imagesLoaded(function(){$(this).masonry({itemSelector:'.rearrange'});});}
$("[data-filter]").bind("click",function(){var filter=$(this).data("filter");if(filter=="none"){$("[data-type]").show().addClass("rearrange");}else{$("[data-type]:not('[data-type="+filter+"]')").hide().removeClass("rearrange");$("[data-type="+filter+"]").show().addClass("rearrange");}
$("[data-rearrange]").masonry('reload');});$("#slider1, #slider2").nivoSlider({effect:'fade',slices:1,animSpeed:500,pauseTime:3000,startSlide:0,directionNav:false,controlNav:false,controlNavThumbs:false,pauseOnHover:true,manualAdvance:false,randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}});});function popupWin(URL,width,height){var loc=window.location;loc.origin=loc.origin||loc.protocol+"\//"+loc.host;var host=new RegExp(loc.origin);URL=host.test(getHost(URL))?(loc.origin||"")+"\/"+URL.replace(loc.origin,"").replace("\/",""):URL;var popup_width=width;var popup_height=height;var left=(screen.width- width)/ 2;
var top=(screen.height- height)/ 2;
var day=new Date();var id=day.getTime();eval("page"+ id+" = window.open(URL, '"+ id+"', 'toolbar=no,scrollbars=1,location=no,statusbar=no,menubar=no,resizable=no,status=no,titlebar=no,width='+popup_width+',height='+popup_height+',top='+top+',left='+left+'');");}
var count=1;function showPopup(){if(count>1){document.getElementById("if").style.display='block';}else{var div=document.createElement('div');div.setAttribute('id','if');div.style.position='absolute';div.style.border='4px solid rgba(0,0,0,0.4)';div.style.top='30px';div.style.right='5%';var iframe=document.createElement('iframe');iframe.setAttribute('src',req_uri.origin+'/retrievein.php');iframe.style.width='450px';iframe.style.height='243px';iframe.style.border='2px solid rgba(0,0,0,0.6)';div.appendChild(iframe);document.body.appendChild(div);count++;}}
function getHost(url){var a=document.createElement('a');a.href=url;return a.protocol+"\//"+a.host;}
function showPromo(e){jQuery.showPromo(e);}
(function(a){var b=function(b,c){var d=a.extend({},a.fn.nivoSlider.defaults,c);var e={currentSlide:0,currentImage:"",totalSlides:0,running:false,paused:false,stop:false,controlNavEl:false};var f=a(b);f.data("nivo:vars",e).addClass("nivoSlider");var g=f.children();g.each(function(){var b=a(this);var c="";if(!b.is("img")){if(b.is("a")){b.addClass("nivo-imageLink");c=b}b=b.find("img:first")}var d=d===0?b.attr("width"):b.width(),f=f===0?b.attr("height"):b.height();if(c!==""){c.css("display","none")}b.css("display","none");e.totalSlides++});if(d.randomStart){d.startSlide=Math.floor(Math.random()*e.totalSlides)}if(d.startSlide>0){if(d.startSlide>=e.totalSlides){d.startSlide=e.totalSlides-1}e.currentSlide=d.startSlide}if(a(g[e.currentSlide]).is("img")){e.currentImage=a(g[e.currentSlide])}else{e.currentImage=a(g[e.currentSlide]).find("img:first")}if(a(g[e.currentSlide]).is("a")){a(g[e.currentSlide]).css("display","block")}var _imgU=a.trim(e.currentImage.attr("src"));_imgU=(_imgU==null||_imgU=="")?"#":_imgU;var h=a('<img class="nivo-main-image" src="'+ _imgU+'" />');h.show();f.append(h);a(window).resize(function(){f.children("img").width(f.width());h.attr("src",e.currentImage.attr("src"));h.stop().height("auto");a(".nivo-slice").remove();a(".nivo-box").remove()});f.append(a('<div class="nivo-caption"></div>'));var i=function(b){var c=a(".nivo-caption",f);if(e.currentImage.attr("title")!=""&&e.currentImage.attr("title")!=undefined){var d=e.currentImage.attr("title");if(d.substr(0,1)=="#")d=a(d).html();if(c.css("display")=="block"){setTimeout(function(){c.html(d)},b.animSpeed)}else{c.html(d);c.stop().fadeIn(b.animSpeed)}}else{c.stop().fadeOut(b.animSpeed)}};i(d);var j=0;if(!d.manualAdvance&&g.length>1){j=setInterval(function(){o(f,g,d,false)},d.pauseTime)}if(d.directionNav){f.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+d.prevText+'</a><a class="nivo-nextNav">'+d.nextText+"</a></div>");a("a.nivo-prevNav",f).live("click",function(){if(e.running){return false}clearInterval(j);j="";e.currentSlide-=2;o(f,g,d,"prev")});a("a.nivo-nextNav",f).live("click",function(){if(e.running){return false}clearInterval(j);j="";o(f,g,d,"next")})}if(d.controlNav){e.controlNavEl=a('<div class="nivo-controlNav"></div>');f.after(e.controlNavEl);for(var k=0;k<g.length;k++){if(d.controlNavThumbs){e.controlNavEl.addClass("nivo-thumbs-enabled");var l=g.eq(k);if(!l.is("img")){l=l.find("img:first")}if(l.attr("data-thumb"))e.controlNavEl.append('<a class="nivo-control" rel="'+k+'"><img src="'+l.attr("data-thumb")+'" alt="" /></a>')}else{e.controlNavEl.append('<a class="nivo-control" rel="'+k+'">'+(k+1)+"</a>")}}a("a:eq("+e.currentSlide+")",e.controlNavEl).addClass("active");a("a",e.controlNavEl).bind("click",function(){if(e.running)return false;if(a(this).hasClass("active"))return false;clearInterval(j);j="";h.attr("src",e.currentImage.attr("src"));e.currentSlide=a(this).attr("rel")-1;o(f,g,d,"control")})}if(d.pauseOnHover){f.hover(function(){e.paused=true;clearInterval(j);j=""},function(){e.paused=false;if(j===""&&!d.manualAdvance){j=setInterval(function(){o(f,g,d,false)},d.pauseTime)}})}f.bind("nivo:animFinished",function(){h.attr("src",e.currentImage.attr("src"));e.running=false;a(g).each(function(){if(a(this).is("a")){a(this).css("display","none")}});if(a(g[e.currentSlide]).is("a")){a(g[e.currentSlide]).css("display","block")}if(j===""&&!e.paused&&!d.manualAdvance){j=setInterval(function(){o(f,g,d,false)},d.pauseTime)}d.afterChange.call(this)});var m=function(b,c,d){if(a(d.currentImage).parent().is("a"))a(d.currentImage).parent().css("display","block");a('img[src="'+d.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").width(b.width()).css("visibility","hidden").show();var e=a('img[src="'+d.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").parent().is("a")?a('img[src="'+d.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").parent().height():a('img[src="'+d.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").height();for(var f=0;f<c.slices;f++){var g=Math.round(b.width()/c.slices);if(f===c.slices-1){b.append(a('<div class="nivo-slice" name="'+f+'"><img src="'+d.currentImage.attr("src")+'" style="position:absolute; width:'+b.width()+"px; height:auto; display:block !important; top:0; left:-"+(g+f*g-g)+'px;" /></div>').css({left:g*f+"px",width:b.width()-g*f+"px",height:e+"px",opacity:"0",overflow:"hidden"}))}else{b.append(a('<div class="nivo-slice" name="'+f+'"><img src="'+d.currentImage.attr("src")+'" style="position:absolute; width:'+b.width()+"px; height:auto; display:block !important; top:0; left:-"+(g+f*g-g)+'px;" /></div>').css({left:g*f+"px",width:g+"px",height:e+"px",opacity:"0",overflow:"hidden"}))}}a(".nivo-slice",b).height(e);h.stop().animate({height:a(d.currentImage).height()},c.animSpeed)};var n=function(b,c,d){if(a(d.currentImage).parent().is("a"))a(d.currentImage).parent().css("display","block");a('img[src="'+d.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").width(b.width()).css("visibility","hidden").show();var e=Math.round(b.width()/c.boxCols),f=Math.round(a('img[src="'+d.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").height()/c.boxRows);for(var g=0;g<c.boxRows;g++){for(var i=0;i<c.boxCols;i++){if(i===c.boxCols-1){b.append(a('<div class="nivo-box" name="'+i+'" rel="'+g+'"><img src="'+d.currentImage.attr("src")+'" style="position:absolute; width:'+b.width()+"px; height:auto; display:block; top:-"+f*g+"px; left:-"+e*i+'px;" /></div>').css({opacity:0,left:e*i+"px",top:f*g+"px",width:b.width()-e*i+"px"}));a('.nivo-box[name="'+i+'"]',b).height(a('.nivo-box[name="'+i+'"] img',b).height()+"px")}else{b.append(a('<div class="nivo-box" name="'+i+'" rel="'+g+'"><img src="'+d.currentImage.attr("src")+'" style="position:absolute; width:'+b.width()+"px; height:auto; display:block; top:-"+f*g+"px; left:-"+e*i+'px;" /></div>').css({opacity:0,left:e*i+"px",top:f*g+"px",width:e+"px"}));a('.nivo-box[name="'+i+'"]',b).height(a('.nivo-box[name="'+i+'"] img',b).height()+"px")}}}h.stop().animate({height:a(d.currentImage).height()},c.animSpeed)};var o=function(b,c,d,e){var f=b.data("nivo:vars");if(f&&f.currentSlide===f.totalSlides-1){d.lastSlide.call(this)}if((!f||f.stop)&&!e){return false}d.beforeChange.call(this);if(!e){h.attr("src",f.currentImage.attr("src"))}else{if(e==="prev"){h.attr("src",f.currentImage.attr("src"))}if(e==="next"){h.attr("src",f.currentImage.attr("src"))}}f.currentSlide++;if(f.currentSlide===f.totalSlides){f.currentSlide=0;d.slideshowEnd.call(this)}if(f.currentSlide<0){f.currentSlide=f.totalSlides-1}if(a(c[f.currentSlide]).is("img")){f.currentImage=a(c[f.currentSlide])}else{f.currentImage=a(c[f.currentSlide]).find("img:first")}if(d.controlNav){a("a",f.controlNavEl).removeClass("active");a("a:eq("+f.currentSlide+")",f.controlNavEl).addClass("active")}i(d);a(".nivo-slice",b).remove();a(".nivo-box",b).remove();var g=d.effect,j="";if(d.effect==="random"){j=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");g=j[Math.floor(Math.random()*(j.length+1))];if(g===undefined){g="fade"}}if(d.effect.indexOf(",")!==-1){j=d.effect.split(",");g=j[Math.floor(Math.random()*j.length)];if(g===undefined){g="fade"}}if(f.currentImage.attr("data-transition")){g=f.currentImage.attr("data-transition")}f.running=true;var k=0,l=0,o="",q="",r="",s="";if(g==="sliceDown"||g==="sliceDownRight"||g==="sliceDownLeft"){m(b,d,f);k=0;l=0;o=a(".nivo-slice",b);if(g==="sliceDownLeft"){o=a(".nivo-slice",b)._reverse()}o.each(function(){var c=a(this);c.css({top:"0px"});if(l===d.slices-1){setTimeout(function(){c.animate({opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+k)}else{setTimeout(function(){c.animate({opacity:"1.0"},d.animSpeed)},100+k)}k+=50;l++})}else if(g==="sliceUp"||g==="sliceUpRight"||g==="sliceUpLeft"){m(b,d,f);k=0;l=0;o=a(".nivo-slice",b);if(g==="sliceUpLeft"){o=a(".nivo-slice",b)._reverse()}o.each(function(){var c=a(this);c.css({bottom:"0px"});if(l===d.slices-1){setTimeout(function(){c.animate({opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+k)}else{setTimeout(function(){c.animate({opacity:"1.0"},d.animSpeed)},100+k)}k+=50;l++})}else if(g==="sliceUpDown"||g==="sliceUpDownRight"||g==="sliceUpDownLeft"){m(b,d,f);k=0;l=0;var t=0;o=a(".nivo-slice",b);if(g==="sliceUpDownLeft"){o=a(".nivo-slice",b)._reverse()}o.each(function(){var c=a(this);if(l===0){c.css("top","0px");l++}else{c.css("bottom","0px");l=0}if(t===d.slices-1){setTimeout(function(){c.animate({opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+k)}else{setTimeout(function(){c.animate({opacity:"1.0"},d.animSpeed)},100+k)}k+=50;t++})}else if(g==="fold"){m(b,d,f);k=0;l=0;a(".nivo-slice",b).each(function(){var c=a(this);var e=c.width();c.css({top:"0px",width:"0px"});if(l===d.slices-1){setTimeout(function(){c.animate({width:e,opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+k)}else{setTimeout(function(){c.animate({width:e,opacity:"1.0"},d.animSpeed)},100+k)}k+=50;l++})}else if(g==="fade"){m(b,d,f);q=a(".nivo-slice:first",b);q.css({width:b.width()+"px"});q.animate({opacity:"1.0"},d.animSpeed*2,"",function(){b.trigger("nivo:animFinished")})}else if(g==="slideInRight"){m(b,d,f);q=a(".nivo-slice:first",b);q.css({width:"0px",opacity:"1"});q.animate({width:b.width()+"px"},d.animSpeed*2,"",function(){b.trigger("nivo:animFinished")})}else if(g==="slideInLeft"){m(b,d,f);q=a(".nivo-slice:first",b);q.css({width:"0px",opacity:"1",left:"",right:"0px"});q.animate({width:b.width()+"px"},d.animSpeed*2,"",function(){q.css({left:"0px",right:""});b.trigger("nivo:animFinished")})}else if(g==="boxRandom"){n(b,d,f);r=d.boxCols*d.boxRows;l=0;k=0;s=p(a(".nivo-box",b));s.each(function(){var c=a(this);if(l===r-1){setTimeout(function(){c.animate({opacity:"1"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+k)}else{setTimeout(function(){c.animate({opacity:"1"},d.animSpeed)},100+k)}k+=20;l++})}else if(g==="boxRain"||g==="boxRainReverse"||g==="boxRainGrow"||g==="boxRainGrowReverse"){n(b,d,f);r=d.boxCols*d.boxRows;l=0;k=0;var u=0;var v=0;var w=[];w[u]=[];s=a(".nivo-box",b);if(g==="boxRainReverse"||g==="boxRainGrowReverse"){s=a(".nivo-box",b)._reverse()}s.each(function(){w[u][v]=a(this);v++;if(v===d.boxCols){u++;v=0;w[u]=[]}});for(var x=0;x<d.boxCols*2;x++){var y=x;for(var z=0;z<d.boxRows;z++){if(y>=0&&y<d.boxCols){(function(c,e,f,h,i){var j=a(w[c][e]);var k=j.width();var l=j.height();if(g==="boxRainGrow"||g==="boxRainGrowReverse"){j.width(0).height(0)}if(h===i-1){setTimeout(function(){j.animate({opacity:"1",width:k,height:l},d.animSpeed/1.3,"",function(){b.trigger("nivo:animFinished")})},100+f)}else{setTimeout(function(){j.animate({opacity:"1",width:k,height:l},d.animSpeed/1.3)},100+f)}})(z,y,k,l,r);l++}y--}k+=100}}};var p=function(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d,10),c=a[--d],a[d]=a[b],a[b]=c);return a};var q=function(a){if(this.console&&typeof console.log!=="undefined"){console.log(a)}};this.stop=function(){if(!a(b).data("nivo:vars").stop){a(b).data("nivo:vars").stop=true;q("Stop Slider")}};this.start=function(){if(a(b).data("nivo:vars").stop){a(b).data("nivo:vars").stop=false;q("Start Slider")}};d.afterLoad.call(this);return this};a.fn.nivoSlider=function(c){return this.each(function(d,e){var f=a(this);if(f.data("nivoslider")){return f.data("nivoslider")}var g=new b(this,c);f.data("nivoslider",g)})};a.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:true,controlNav:true,controlNavThumbs:false,pauseOnHover:true,manualAdvance:false,prevText:"Prev",nextText:"Next",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};a.fn._reverse=[].reverse})(jQuery);
